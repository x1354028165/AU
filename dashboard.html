<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="stylesheet" href="design-system.css">
    <script src="page-transition.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="dashboard.pageTitle">ËÉΩÊ∫êÁÆ°ÁêÜ‰∏≠ÂøÉ</title>
    <script src="vendor/echarts.min.js"></script>
    <link rel="stylesheet" href="components/common-styles.css">
    <link rel="stylesheet" href="components/time-selector.css">
    <link rel="stylesheet" href="components/i18n.css">
    <link rel="stylesheet" href="components/notification-center.css">
    <link rel="stylesheet" href="components/header-nav.css">
    <link rel="stylesheet" href="components/drawer-component.css">
    <link rel="stylesheet" href="components/user-dropdown.css">
    <script src="components/time-selector.js"></script>
    <script src="components/i18n.js"></script>
    <script src="components/simple-message-icon.js"></script>
    <script src="components/user-dropdown-simple-new.js"></script>
    <script src="components/header-nav.js"></script>
    <script src="components/drawer-component.js"></script>
    <script src="components/condition-settings-modal.js?v=1.2"></script>
    <script src="components/global-notifications.js"></script>
    <style>
        /* SOC Modal Slider Styles */
        #socEditModal input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
        }
        
        #socEditModal input[type="range"]::-webkit-slider-track {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        #socEditModal input[type="range"]::-moz-range-track {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        #socEditModal input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at 30% 30%, #00ff88, #00cc6a);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.3);
            transition: all 0.15s ease;
            margin-top: -6px;
        }
        
        #socEditModal input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at 30% 30%, #00ff88, #00cc6a);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.3);
            transition: all 0.15s ease;
        }
        
        #modalChargeSOCSlider::-webkit-slider-thumb {
            background: radial-gradient(circle at 30% 30%, #00ff88, #00cc6a);
        }
        
        #modalChargeSOCSlider::-moz-range-thumb {
            background: radial-gradient(circle at 30% 30%, #00ff88, #00cc6a);
        }
        
        #modalDischargeSOCSlider::-webkit-slider-thumb {
            background: radial-gradient(circle at 30% 30%, #ffc107, #ff9800);
        }
        
        #modalDischargeSOCSlider::-moz-range-thumb {
            background: radial-gradient(circle at 30% 30%, #ffc107, #ff9800);
        }
        
        #socEditModal input[type="range"]:hover::-webkit-slider-thumb {
            transform: scale(1.15);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        #socEditModal input[type="range"]:hover::-moz-range-thumb {
            transform: scale(1.15);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        #socEditModal input[type="range"]:active::-webkit-slider-thumb {
            transform: scale(1.05);
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        #socEditModal input[type="range"]:active::-moz-range-thumb {
            transform: scale(1.05);
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(0, 0, 0, 0.2);
        }


        /* ÂèØÊãñÊãΩÂú∞Âå∫Êù°‰ª∂ÊÄªËßàÂç°ÁâáÊ†∑Âºè */
        .draggable-region-overview-card {
            position: fixed;
            top: 120px;
            left: 20px;
            width: 900px;
            max-height: 400px;
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(30px) saturate(1.5);
            -webkit-backdrop-filter: blur(30px) saturate(1.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            z-index: 1000;
            cursor: move;
            user-select: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .draggable-region-overview-card:hover {
            transform: scale(1.01);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }

        .region-overview-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .region-overview-title {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .region-overview-minimize-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .region-overview-minimize-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        .region-overview-content {
            max-height: 320px;
            overflow-y: auto;
            overflow-x: auto;
        }

        .region-overview-content::-webkit-scrollbar {
            width: 6px;
        }

        .region-overview-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
        }

        .region-overview-content::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 136, 0.3);
            border-radius: 6px;
        }

        .region-overview-body {
            width: 100%;
            overflow-x: auto;
        }

        /* ÊäòÂè†ÂºèÂú∞Âå∫È°πÊ†∑Âºè */
        .region-accordion-item {
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s;
        }

        .region-accordion-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .region-accordion-header {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
        }

        .region-accordion-header:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .region-accordion-title {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .region-accordion-arrow {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
            color: rgba(255, 255, 255, 0.6);
        }

        .region-accordion-item.expanded .region-accordion-arrow {
            transform: rotate(180deg);
        }

        .region-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: rgba(0, 0, 0, 0.2);
        }

        .region-accordion-item.expanded .region-accordion-content {
            max-height: 300px;
        }

        .region-conditions-grid {
            padding: 16px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        /* Ë°®Ê†ºÊ†∑Âºè */
        .region-comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            font-size: 12px;
        }

        .region-comparison-table th,
        .region-comparison-table td {
            padding: 10px 12px;
            text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .region-comparison-table th {
            background: rgba(255, 255, 255, 0.08);
            color: #fff;
            font-weight: 600;
            font-size: 13px;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .region-comparison-table th:first-child {
            border-top-left-radius: 8px;
        }

        .region-comparison-table th:last-child {
            border-top-right-radius: 8px;
        }

        .region-comparison-table tr:hover td {
            background: rgba(255, 255, 255, 0.03);
        }

        .region-comparison-table td {
            background: rgba(255, 255, 255, 0.02);
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.2s;
        }

        .region-comparison-table tbody tr:last-child td:first-child {
            border-bottom-left-radius: 8px;
        }

        .region-comparison-table tbody tr:last-child td:last-child {
            border-bottom-right-radius: 8px;
        }

        /* Âú∞Âå∫ÂêçÁß∞Âàó */
        .region-name-cell {
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
        }

        .region-status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            flex-shrink: 0;
            position: relative;
        }

        .region-status-indicator.charging {
            background: #00ff88;
            box-shadow: 0 0 8px rgba(0, 255, 136, 0.8);
            animation: pulseGreen 2s ease-in-out infinite;
        }

        .region-status-indicator.discharging {
            background: #ffc107;
            box-shadow: 0 0 8px rgba(255, 193, 7, 0.8);
            animation: pulseYellow 2s ease-in-out infinite;
        }

        .region-status-indicator.idle {
            background: rgba(255, 255, 255, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes pulseGreen {
            0%, 100% {
                box-shadow: 0 0 8px rgba(0, 255, 136, 0.8);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 16px rgba(0, 255, 136, 1);
                transform: scale(1.1);
            }
        }

        @keyframes pulseYellow {
            0%, 100% {
                box-shadow: 0 0 8px rgba(255, 193, 7, 0.8);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 16px rgba(255, 193, 7, 1);
                transform: scale(1.1);
            }
        }

        /* Êù°‰ª∂ÂçïÂÖÉÊ†º */
        .condition-cell {
            font-size: 11px;
            line-height: 1.4;
        }

        .condition-value {
            color: #fff;
            font-weight: 500;
        }

        .condition-label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 10px;
        }

        /* Êù°‰ª∂ÈÉ®ÂàÜÊ†∑Âºè */
        .condition-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 12px;
        }

        .condition-title {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .condition-title.charge {
            color: #00ff88;
        }

        .condition-title.discharge {
            color: #ffc107;
        }

        .condition-details {
            font-size: 11px;
            line-height: 1.6;
        }

        .condition-detail-item {
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .condition-detail-item .condition-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
        }

        .condition-detail-item .condition-value {
            font-size: 12px;
            color: #fff;
            font-weight: 500;
        }

        /* Ë°®Â§¥Ê†∑Âºè */
        .table-header-charge {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.05));
            color: #00ff88;
        }

        .table-header-discharge {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.15), rgba(255, 193, 7, 0.05));
            color: #ffc107;
        }

        /* Áº©Â∞èÁä∂ÊÄÅÊ†∑Âºè */
        .draggable-region-overview-card.minimized {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            border: 2px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4), 
                        0 0 0 1px rgba(0, 255, 136, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.3);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
        }

        .draggable-region-overview-card.minimized:hover {
            transform: scale(1.15);
            box-shadow: 0 12px 35px rgba(0, 255, 136, 0.6), 
                        0 0 0 2px rgba(0, 255, 136, 0.5),
                        inset 0 1px 0 rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 1);
        }

        .draggable-region-overview-card.minimized .region-overview-header,
        .draggable-region-overview-card.minimized .region-overview-content {
            display: none;
        }

        .draggable-region-overview-card.minimized::before {
            content: 'üåè';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        /* Áº©Â∞èÁä∂ÊÄÅËÑâÂÜ≤Âä®Áîª */
        @keyframes regionOverviewPulse {
            0%, 100% {
                box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4), 
                            0 0 0 1px rgba(0, 255, 136, 0.3),
                            inset 0 1px 0 rgba(255, 255, 255, 0.3);
            }
            50% {
                box-shadow: 0 12px 35px rgba(0, 255, 136, 0.6), 
                            0 0 0 2px rgba(0, 255, 136, 0.4),
                            inset 0 1px 0 rgba(255, 255, 255, 0.4);
            }
        }

        .draggable-region-overview-card.minimized {
            animation: regionOverviewPulse 3s ease-in-out infinite;
        }

        .draggable-region-overview-card.minimized:hover {
            animation: none;
        }
        
        /* Ëá™Âä®Êù°‰ª∂ÊåâÈíÆÊÇ¨ÂÅúÊïàÊûú */
        .auto-condition-btn {
            position: relative;
            overflow: hidden;
        }
        .auto-condition-btn:hover {
            background: rgba(255, 255, 255, 0.12) !important;
            color: rgba(255, 255, 255, 0.95) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
            transform: scale(1.08);
        }
        .auto-condition-btn:active {
            transform: scale(0.95);
        }
        /* ÂúÜÂΩ¢ÊåâÈíÆÈÄâ‰∏≠Áä∂ÊÄÅÁöÑÁéØÂΩ¢ÊïàÊûú */
        /* Êú∫Âô®‰∫∫ÁéØÁªïÂ§ßÂúÜÂä®Áîª */
        @keyframes orbitRobot {
            0%   { transform: rotate(0deg)   translateX(108px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(108px) rotate(-360deg); }
        }
        @keyframes robotGlow {
            0%, 100% { filter: drop-shadow(0 0 4px rgba(0,255,136,0.4)); }
            50%      { filter: drop-shadow(0 0 10px rgba(0,255,136,0.8)); }
        }
        #aiOrbitRobot {
            position: absolute;
            top: 50%; left: 50%;
            width: 28px; height: 28px;
            margin: -14px 0 0 -14px;
            animation: orbitRobot 6s linear infinite, robotGlow 2s ease-in-out infinite;
            pointer-events: none;
            z-index: 25;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #aiOrbitRobot.active {
            opacity: 1;
        }
        /* ÁéØÁªïËΩ®ÈÅìÂÖâÁéØ */
        #aiOrbitTrack {
            position: absolute;
            top: 50%; left: 50%;
            width: 216px; height: 216px;
            margin: -108px 0 0 -108px;
            border-radius: 50%;
            border: 1px dashed rgba(0,255,136,0.15);
            pointer-events: none;
            z-index: 5;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #aiOrbitTrack.active {
            opacity: 1;
        }

        /* ÁøªÁâåÂÄíËÆ°Êó∂Âô® */
        .flip-clock {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            margin-top: 5px;
        }
        .flip-clock .flip-separator {
            font-size: 14px;
            font-weight: 700;
            color: rgba(0,255,136,0.5);
            line-height: 28px;
        }
        .flip-clock .flip-group {
            display: flex;
            gap: 2px;
        }
        .flip-clock .flip-label {
            font-size: 9px;
            color: rgba(255,255,255,0.3);
            text-align: center;
            margin-top: 2px;
        }
        .flip-card {
            position: relative;
            width: 22px;
            height: 28px;
            perspective: 200px;
        }
        .flip-card .flip-top,
        .flip-card .flip-bottom {
            position: absolute;
            left: 0;
            width: 100%;
            height: 50%;
            overflow: hidden;
            backface-visibility: hidden;
        }
        .flip-card .flip-top {
            top: 0;
            background: linear-gradient(180deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 100%);
            border-radius: 6px 4px 0 0;
            border-bottom: 1px solid rgba(0,0,0,0.3);
        }
        .flip-card .flip-bottom {
            bottom: 0;
            background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.06) 100%);
            border-radius: 0 0 4px 4px;
        }
        .flip-card .flip-top .flip-digit,
        .flip-card .flip-bottom .flip-digit {
            position: absolute;
            left: 0;
            width: 100%;
            height: 28px;
            line-height: 28px;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            font-family: 'SF Mono', 'Menlo', monospace;
            color: rgba(0,255,136,0.9);
        }
        .flip-card .flip-top .flip-digit {
            top: 0;
        }
        .flip-card .flip-bottom .flip-digit {
            bottom: 0;
        }
        /* ÁøªËΩ¨Âä®Áîª - ‰∏äÂçäÁâáÂæÄ‰∏ãÁøª */
        .flip-card .flip-front {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            overflow: hidden;
            background: linear-gradient(180deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 100%);
            border-radius: 6px 4px 0 0;
            transform-origin: bottom center;
            backface-visibility: hidden;
            z-index: 5;
        }
        .flip-card .flip-front .flip-digit {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 28px;
            line-height: 28px;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            font-family: 'SF Mono', 'Menlo', monospace;
            color: rgba(0,255,136,0.9);
        }
        .flip-card .flip-back {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            overflow: hidden;
            background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.06) 100%);
            border-radius: 0 0 4px 4px;
            transform-origin: top center;
            transform: rotateX(180deg);
            backface-visibility: hidden;
            z-index: 5;
        }
        .flip-card .flip-back .flip-digit {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 28px;
            line-height: 28px;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
            font-family: 'SF Mono', 'Menlo', monospace;
            color: rgba(0,255,136,0.9);
        }
        .flip-card.flipping .flip-front {
            animation: flipDown 0.5s ease-in forwards;
        }
        .flip-card.flipping .flip-back {
            animation: flipUp 0.5s ease-out 0.25s forwards;
        }
        @keyframes flipDown {
            0%   { transform: rotateX(0deg); }
            100% { transform: rotateX(-180deg); }
        }
        @keyframes flipUp {
            0%   { transform: rotateX(180deg); }
            100% { transform: rotateX(0deg); }
        }

        @keyframes autoConditionRing {
            0% {
                box-shadow: 0 0 0 4px rgba(0, 255, 136, 0.1);
            }
            50% {
                box-shadow: 0 0 0 6px rgba(0, 255, 136, 0.15);
            }
            100% {
                box-shadow: 0 0 0 4px rgba(0, 255, 136, 0.1);
            }
        }
        .auto-condition-btn.selected {
            animation: autoConditionRing 2s ease-in-out infinite;
        }
        
        /* ÊäòÂè†ÂºèÂú∞Âå∫È°πÊ†∑Âºè */
        .region-accordion-container {
            width: 100%;
        }
        .region-accordion-item {
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s;
        }
        .region-accordion-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.15);
        }
        .region-accordion-item.expanded {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(0, 255, 136, 0.3);
        }
        .region-accordion-header {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
        }
        .region-accordion-header:hover {
            background: rgba(255, 255, 255, 0.03);
        }
        .region-header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .accordion-arrow {
            transition: transform 0.3s;
            color: rgba(255, 255, 255, 0.6);
        }
        .region-accordion-item.expanded .accordion-arrow {
            transform: rotate(90deg);
        }
        .region-name {
            font-size: 14px;
            font-weight: 600;
            color: #fff;
        }
        .region-conditions-summary {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            padding: 4px 12px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 16px;
        }
        .region-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(0, 0, 0, 0.1);
        }
        .region-accordion-item.expanded .region-accordion-content {
            max-height: 300px;
        }
        .conditions-grid {
            padding: 16px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .condition-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 12px;
        }
        .condition-section h4 {
            margin: 0 0 12px 0;
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .charge-section h4 {
            color: #00ff88;
        }
        .discharge-section h4 {
            color: #ffc107;
        }
        .condition-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        .condition-item:last-child {
            border-bottom: none;
        }
        .condition-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
        }
        .condition-value {
            font-size: 12px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
        }

        
        /* Á°Æ‰øùÊ®°ÊÄÅÊ°ÜÂßãÁªàÂú®ÊúÄÈ°∂Â±Ç */
        #modalContent {
            z-index: 2147483648 !important;
            position: fixed !important;
        }
        
        /* ÂÖÖÁîµÊªëÂùóÂèëÂÖâÊïàÊûú */
        #modalChargeSOCSlider:hover::-webkit-slider-thumb {
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6), 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4);
        }
        
        #modalChargeSOCSlider:hover::-moz-range-thumb {
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6), 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4);
        }
        
        /* ÊîæÁîµÊªëÂùóÂèëÂÖâÊïàÊûú */
        #modalDischargeSOCSlider:hover::-webkit-slider-thumb {
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.6), 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4);
        }
        
        #modalDischargeSOCSlider:hover::-moz-range-thumb {
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.6), 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4);
        }
        
        /* Shimmer animation for progress bars */
        @keyframes shimmer {
            0% {
                left: -100%;
            }
            100% {
                left: 200%;
            }
        }
        
        /* Âº∫Âà∂ÊäΩÂ±âÁªÑ‰ª∂Âú®ÊúÄÈ°∂Â±Ç */
        .drawer-overlay {
            z-index: 2147483647 !important;
            position: fixed !important;
        }
        
        .drawer-container {
            z-index: 2147483647 !important;
            position: fixed !important;
        }
        
        /* Á°Æ‰øùÊäΩÂ±âÁªÑ‰ª∂‰ΩøÁî®Ê≠£Á°ÆÁöÑÂ≠ó‰ΩìÂíåÂ§ßÂ∞è */
        #deviceResponseDrawerComponent .drawer-container {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
            font-size: 14px !important;
        }
        
        #deviceResponseDrawerComponent .detail-label {
            font-size: 14px !important;
        }
        
        #deviceResponseDrawerComponent .detail-value {
            font-size: 14px !important;
        }
        
        #deviceResponseDrawerComponent .stat-value {
            font-size: 24px !important;
        }
        
        #deviceResponseDrawerComponent .stat-label {
            font-size: 12px !important;
        }
        
        /* Á°Æ‰øùÊäΩÂ±âÂÆπÂô®Âú®ÊâÄÊúâÂÖÉÁ¥†‰πã‰∏ä */
        #homeOperationDrawer {
            z-index: 2147483647 !important;
            position: fixed !important;
        }
        
        #homeOperationDrawer * {
            z-index: inherit !important;
        }
        
        /* Á°Æ‰øùÊâÄÊúâÊäΩÂ±âÁõ∏ÂÖ≥ÂÖÉÁ¥†ÈÉΩÂú®ÊúÄÈ°∂Â±Ç */
        [id*="Drawer"], [class*="drawer"] {
            z-index: 2147483647 !important;
            position: relative !important;
        }
        
        /* Override for homepage specific styles */
        html {
            height: auto;
            overflow-x: hidden;
        }
        
        /* ‰∏∫È¶ñÈ°µËÆæÁΩÆÈ¢úËâ≤ÂèòÈáè */
        :root {
            --color-bg: #f7f8fa;
            --color-bg-card: #fff;
            --color-text: #1d2129;
            --color-text-secondary: #4e5969;
            --color-primary: #00b96b;
            --color-accent: #1e7fff;
            --color-border: #e5e6eb;
            --color-shadow: 0 2px 8px rgba(0,0,0,0.06);
            --radius: 12px;
        }

        body.theme-dark {
            --color-bg: #000;
            --color-bg-card: rgba(255, 255, 255, 0.03);
            --color-text: rgba(255, 255, 255, 0.9);
            --color-text-secondary: rgba(255, 255, 255, 0.6);
            --color-primary: #00ff88;
            --color-region-primary: #00ff88;
            --color-circle-primary: #52c41a;
            --color-accent: #1e7fff;
            --color-border: rgba(255, 255, 255, 0.08);
            --color-shadow: 0 2px 8px rgba(0,0,0,0.32);
        }
        
        body {
            background: #000 !important;
            overflow-x: hidden;
            position: relative;
            margin: 0;
            padding: 0;
            height: auto;
            min-height: 100vh;
            width: 100vw;
        }
        
        /* Ensure all containers utilize full screen width */
        * {
            box-sizing: border-box;
        }
        
        /* Full width responsive utilities */
        .container, .main-content-scrollable, .stats-row {
            max-width: 100% !important;
        }
        
        /* Responsive grid improvements */
        @media (max-width: 1024px) {
            .stats-row {
                grid-template-columns: 1fr 2fr !important;
                gap: 15px;
            }
            
            .container {
                padding: 20px 8px 20px !important;
            }
            
            .main-content-scrollable {
                padding: 0 !important;
            }
            
            .region-selector-fixed {
                padding: 0 16px;
                padding-bottom: 20px;
            }
            
            /* Today's Data section responsive */
            .today-data-card {
                min-width: 300px !important;
                height: 140px !important;
            }
            
            .metrics-card {
                min-width: 410px !important;
                height: 140px !important;
            }
            
            .today-data-row {
                padding-left: 8px !important;
                padding-right: 8px !important;
            }
            
            /* Power Station Card responsive */
            .power-station-card {
                min-height: 450px !important;
            }
            
        }
        
        /* Fixed region selector */
        .region-selector-fixed {
            position: fixed;
            top: 100px; /* Increased spacing from header */
            left: 0;
            right: 0;
            z-index: 999;
            background: #000; /* Solid background to prevent transparency */
            padding: 0 20px;
            padding-bottom: 20px; /* Add bottom padding */
            border-bottom: 1px solid rgba(255,255,255,0.1); /* Add subtle border */
            width: 100%;
            box-sizing: border-box;
        }
        
        /* Gradient mask to hide content smoothly - removed transparency issue */
        .region-selector-fixed::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(to bottom, #000, transparent);
            pointer-events: none;
            z-index: 1000;
        }
        
        /* Scrollable main content */
        .main-content-scrollable {
            margin-top: 90px; /* 80px fixed header + 10px spacing */
            padding: 0;
            padding-bottom: 100px; /* Á°Æ‰øùÂ∫ïÈÉ®ÊúâË∂≥Â§üÁ©∫Èó¥ */
            position: relative;
            background: #000; /* Solid black background */
            width: 100%;
            max-width: 100vw;
            box-sizing: border-box;
        }
        
        .container {
            background: transparent;
            padding-top: 20px !important;
            padding-bottom: 100px !important;
            max-width: 100%;
            margin: 0;
            min-height: auto;
            height: auto;
            overflow: visible !important;
            width: 100%;
            box-sizing: border-box;
        }
        .btn {
            background: var(--color-primary);
            color: #fff;
            border-radius: 22px;
            border: none;
            padding: 0 24px;
            height: 44px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            min-width: 100px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .btn:hover {
            background: var(--color-accent);
        }
        .input {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--radius);
            padding: 0 12px;
            height: 40px;
            color: var(--color-text);
            font-size: 16px;
        }
        /* ‰∏ªÈ¢òÂàáÊç¢ÊåâÈíÆ */
        .theme-toggle-btn {
            position: absolute;
            right: 32px;
            top: 24px;
            z-index: 100;
            background: var(--color-bg-card);
            color: var(--color-text);
            border: 1px solid var(--color-border);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            box-shadow: var(--color-shadow);
            transition: background 0.3s, color 0.3s;
        }
        .theme-toggle-btn:hover {
            background: var(--color-primary);
            color: #fff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Glass morphism effects */
        .glass {
            background: var(--color-bg-card, rgba(255,255,255,0.12));
            backdrop-filter: blur(20px) saturate(1.5);
            border: 1px solid var(--color-border, rgba(255,255,255,0.1));
            border-radius: var(--radius, 20px);
            color: var(--color-text);
        }

        /* Pulse animation for status indicators */
        @keyframes pulse {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }


        .language-selector {
            position: relative;
            cursor: pointer;
        }

        .language-current {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            transition: all 0.3s;
        }

        .language-current:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(30px) saturate(1.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 8px 0;
            display: none;
            min-width: 120px;
        }

        .language-option {
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .language-option:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ff88, #00aaff);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .user-avatar:hover {
            transform: scale(1.05);
        }

        /* Period Dropdown Styles */
        .period-dropdown {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 16px;
            padding-right: 32px !important;
            transition: all 0.3s ease;
        }

        .period-dropdown:hover {
            background-color: rgba(255,255,255,0.12) !important;
            border-color: rgba(255,255,255,0.25) !important;
        }

        .period-dropdown:focus {
            background-color: rgba(255,255,255,0.15) !important;
            border-color: var(--color-primary) !important;
            box-shadow: 0 0 0 2px rgba(0,185,107,0.2);
        }

        .period-dropdown option {
            background: #1a1a1a;
            color: #fff;
            padding: 8px;
        }

        /* Main Container */
        .container {
            max-width: 95%;
            margin: 0 auto;
            padding: 120px 10px 100px; /* Ê∑ªÂä†Â∫ïÈÉ®paddingÁ°Æ‰øùÂÜÖÂÆπÂèØËßÅ */
            height: auto;
            display: flex;
            flex-direction: column;
            overflow: visible;
        }

        /* Page Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding: 24px 0;
            border-bottom: 1px solid var(--color-border);
        }

        /* Top Stats Row */
        .stats-row {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 20px;
            padding-right: 0;
            height: auto;
            min-height: auto;
            position: relative;
            overflow: visible;
            align-items: stretch;
            width: 100%;
        }
        
        /* Today's Data Row alignment with region selector */
        .today-data-row {
            padding-left: 10px;
            padding-right: 10px;
        }

        /* Market Section */
        .market-section {
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .market-section .price-cards {
            width: 100%;
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .market-section .price-card {
            flex: 1;
            min-width: 0;
        }

        /* Power Station Management Styles */
        .power-station-container {
            display: flex;
            flex-direction: column;
            padding: 12px;
            height: auto;
            min-height: auto;
            overflow: visible;
        }

        .station-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            padding-bottom: 4px;
        }

        .station-title {
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            margin: 0;
        }

        .highest-price-region {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Price Circle Layout */
        .price-circle-layout {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 20px 0;
            gap: 20px;
        }

        .price-side-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            flex: 1;
        }

        .side-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
            white-space: nowrap;
        }

        .side-price {
            font-size: 20px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        /* Main Price Circle */
        .main-price-circle {
            position: relative;
            width: 160px;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .circle-background {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, #007AFF, #0056CC);
            opacity: 0.9;
            transition: all 0.3s ease;
        }
        
        /* ÂÖÖÁîµÁä∂ÊÄÅËÑâÂÜ≤Âä®Áîª */
        @keyframes chargePulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 255, 136, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 15px rgba(0, 255, 136, 0);
            }
        }
        
        /* ÊîæÁîµÁä∂ÊÄÅËÑâÂÜ≤Âä®Áîª */
        @keyframes dischargePulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 149, 0, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 15px rgba(255, 149, 0, 0);
            }
        }
        
        /* ÂæÖÊú∫Áä∂ÊÄÅÂëºÂê∏Âä®Áîª */
        @keyframes breathe {
            0%, 100% {
                opacity: 0.9;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.02);
            }
        }
        
        .circle-background.charging {
            animation: chargePulse 2s ease-in-out infinite;
        }
        
        .circle-background.discharging {
            animation: dischargePulse 2s ease-in-out infinite;
        }
        
        .circle-background.idle {
            animation: breathe 3s ease-in-out infinite;
        }

        /* Water Wave Effect */
        .water-wave-container {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            overflow: hidden;
            background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%);
        }

        .water-wave {
            position: absolute;
            bottom: 0;
            left: -50%;
            width: 200%;
            height: 30%;
            background: linear-gradient(180deg, rgba(75, 123, 255, 0.9) 0%, rgba(75, 123, 255, 0.7) 100%);
            border-radius: 50% 50% 0 0 / 100% 100% 0 0;
            animation: horizontalWaveAnimation 2s ease-in-out infinite;
            transform-origin: center bottom;
        }


        @keyframes horizontalWaveAnimation {
            0%, 100% {
                transform: translateX(0) translateY(0);
                border-radius: 50% 50% 0 0 / 100% 100% 0 0;
            }
            25% {
                transform: translateX(-5px) translateY(-1px);
                border-radius: 45% 55% 0 0 / 95% 105% 0 0;
            }
            50% {
                transform: translateX(0) translateY(1px);
                border-radius: 55% 45% 0 0 / 105% 95% 0 0;
            }
            75% {
                transform: translateX(5px) translateY(-1px);
                border-radius: 50% 50% 0 0 / 100% 100% 0 0;
            }
        }
        
        @keyframes chargeCirclePulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 255, 136, 0.4); }
            50% { transform: scale(1.02); box-shadow: 0 0 0 8px rgba(0, 255, 136, 0.1); }
        }
        
        @keyframes dischargeCirclePulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.4); }
            50% { transform: scale(1.03); box-shadow: 0 0 0 10px rgba(255, 193, 7, 0.1); }
        }
        

        .circle-content {
            position: relative;
            z-index: 3;
            text-align: center;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .price-range {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.7);
            margin: 4px 0;
            line-height: 1.2;
        }

        .price-percentage {
            font-size: 14px;
            color: #00ff88;
            font-weight: 600;
            margin-top: 2px;
        }

        /* Stop Circle Overlay */
        .stop-circle-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff4757, #c44569);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(255, 71, 87, 0.3);
        }

        .main-price-circle.manual-operation:hover .stop-circle-overlay {
            opacity: 1;
        }

        .stop-circle-overlay:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 71, 87, 0.4);
        }

        .stop-text {
            color: #fff;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            pointer-events: none;
        }
        
        /* SOC hover overlay styles */
        .soc-hover-overlay {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .soc-hover-overlay:hover {
            opacity: 1;
        }
        
        div:hover .soc-hover-overlay {
            opacity: 1;
        }

        /* Circle Action Buttons */
        .circle-action-btn {
            width: 100%;
            height: 80px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 600;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .circle-action-btn.charge-btn {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
        }

        .circle-action-btn.charge-btn:hover {
            background: linear-gradient(135deg, #00cc6a, #00aa55);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.3);
        }

        .circle-action-btn.discharge-btn {
            background: linear-gradient(135deg, #ff9500, #e67e22);
            color: #fff;
        }

        .circle-action-btn.discharge-btn:hover {
            background: linear-gradient(135deg, #e67e22, #d35400);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 149, 0, 0.3);
        }

        /* Disabled state for circle action buttons */
        .circle-action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }


        .current-price {
            font-size: 36px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 4px;
        }

        .price-unit {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 16px;
            margin: 20px 0;
        }

        .action-btn {
            flex: 1;
            padding: 12px 24px;
            border: 2px solid transparent;
            border-radius: 32px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #000;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .charge-btn {
            background: linear-gradient(135deg, #00D67A, #00FF88) !important;
            border: 2px solid rgba(0, 255, 136, 0.3) !important;
            color: #000 !important;
        }

        .charge-btn:hover {
            transform: translateY(-2px);
            background: #00E070 !important;
            box-shadow: 0 8px 20px rgba(0, 255, 136, 0.4) !important;
            border-color: rgba(0, 255, 136, 0.6) !important;
        }

        .discharge-btn {
            background: linear-gradient(135deg, #FFC107, #FFD700) !important;
            border: 2px solid rgba(255, 193, 7, 0.3) !important;
            color: #000 !important;
        }

        .discharge-btn:hover {
            transform: translateY(-2px);
            background: linear-gradient(135deg, #FFB300, #FFC107) !important;
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.4) !important;
            border-color: rgba(255, 193, 7, 0.6) !important;
        }
        
        /* ÂÅúÊ≠¢ÊåâÈíÆÊ†∑Âºè */
        .stop-btn {
            background: linear-gradient(135deg, #ff4444, #ff6b6b) !important;
            border: 2px solid rgba(255, 68, 68, 0.3) !important;
            flex: 1 !important;
            margin: 0 !important;
            color: #fff !important;
            padding: 12px 24px !important;
            border-radius: 32px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 4px 12px rgba(255, 68, 68, 0.2) !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        .stop-btn:hover {
            box-shadow: 0 8px 20px rgba(255, 68, 68, 0.4) !important;
            border-color: rgba(255, 68, 68, 0.6) !important;
        }
        
        /* Êìç‰Ωú‰∏≠ÁöÑÊåâÈíÆÂÆπÂô®Ê†∑Âºè */
        .action-buttons.operating {
            justify-content: center !important;
        }
        
        .action-buttons.operating .action-btn:not(.stop-btn) {
            display: none !important;
        }
        
        .action-buttons.operating .stop-btn {
            flex: 1 !important;
            max-width: 200px !important;
        }

        /* Stats Compact Grid */
        .stats-compact-grid {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            padding: 4px 0;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            background: #1a1a1a;
            border-radius: 10px;
            height: calc(100% / 4 - 3px);
        }

        .stat-icon {
            font-size: 14px;
            width: 16px;
            text-align: center;
            opacity: 0.9;
        }

        .stat-content {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        .stat-value {
            font-size: 12px;
            font-weight: 600;
            color: #fff;
        }

        /* Bottom Stats Grid */
        .bottom-stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
        }

        .bottom-stat-card {
            padding: 8px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .bottom-stat-title {
            font-size: 9px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 3px;
        }

        .bottom-stat-value {
            font-size: 12px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 2px;
        }

        .bottom-stat-change {
            font-size: 8px;
            font-weight: 500;
        }

        .bottom-stat-change.positive {
            color: #00ff88;
        }

        .bottom-stat-change.negative {
            color: #8A4AFF;
        }

        /* Legacy: Electricity Cost Circle for backward compatibility */
        .cost-circle-container {
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .cost-circle {
            position: relative;
            width: 200px;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .circle-bg {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #00ff88 0deg, #00ff88 144deg, rgba(255, 255, 255, 0.1) 144deg);
            padding: 3px;
            mask: radial-gradient(farthest-side, transparent calc(100% - 20px), #000 calc(100% - 20px));
        }

        .circle-inner {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .cost-amount {
            font-size: 48px;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .cost-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Price Range Display */
        .price-range {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
            gap: 20px;
        }

        .price-stat {
            flex: 1;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .price-stat-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .price-stat-value {
            font-size: 20px;
            font-weight: 600;
        }

        .price-high {
            color: #8A4AFF;
        }

        .price-low {
            color: #00ff88;
        }

        .cost-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 30px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .btn-primary {
            background: #00ff88;
            color: #000;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-danger {
            background: #8A4AFF;
            color: #fff;
            border: 1px solid #8A4AFF;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }

        /* Panel Tabs */
        .panel-tabs {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
            padding-left: 20px;
        }

        .panel-tab {
            padding: 8px 20px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .panel-tab:hover {
            color: #fff;
        }

        .panel-tab.active {
            color: #00ff88;
        }

        .panel-tab.active::after {
            content: '';
            position: absolute;
            bottom: -16px;
            left: 0;
            right: 0;
            height: 2px;
            background: #00ff88;
        }

        /* Mode Tabs for Modal */
        .mode-tab {
            padding: 12px 24px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .mode-tab:hover {
            color: #fff;
        }

        .mode-tab.active {
            color: #00ff88;
        }

        .mode-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: #00ff88;
        }

        .auto-switch-toggle {
            margin-left: auto;
            display: flex;
            align-items: center;
        }

        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.2);
            transition: .4s;
            border-radius: 16px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #00ff88;
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }

        /* Panel Content */
        .panel-content { display: none; }
        .panel-content.active { display: flex; flex-direction: column; flex: 1; min-height: 100%; overflow: visible; }

        /* Region Tabs */
        .region-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .region-tab {
            padding: 6px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
            border-radius: 16px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .region-tab:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .region-tab.active {
            background: #00ff88;
            color: #000;
            border-color: #00ff88;
        }

        /* Price Cards */
        .price-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            height: 80px; /* Âõ∫ÂÆöÈ´òÂ∫¶ */
        }

        .price-card {
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 0;
            height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: var(--color-bg-card, rgba(255,255,255,0.03));
            border-radius: var(--radius, 8px);
            border: 1px solid var(--color-border, rgba(255,255,255,0.1));
            color: var(--color-text);
        }

        .price-card-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 6px;
            line-height: 1.2;
            height: 2.4em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .price-card-value {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        /* Demand Generation Card */
        .demand-gen-card {
            padding: 12px !important;
            gap: 6px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: 80px;
        }

        .demand-gen-row {
            display: flex;
            align-items: center;
            padding: 6px;
            border-radius: 6px;
            transition: all 0.3s ease;
            height: 50%;
            justify-content: space-between;
        }

        .demand-gen-label {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.7);
            white-space: nowrap;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .demand-gen-value {
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .demand-row {
            background: linear-gradient(90deg, rgba(76, 217, 100, 0.2), rgba(76, 217, 100, 0.15));
        }

        .demand-row .demand-gen-value {
            color: #4CD964;
        }

        .generation-row {
            background: linear-gradient(90deg, rgba(30, 144, 255, 0.2), rgba(30, 144, 255, 0.15));
        }

        .generation-row .demand-gen-value {
            color: #1E90FF;
        }

        @media (max-width: 768px) {
            .price-cards {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 480px) {
            .price-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-row {
                grid-template-columns: 1fr !important;
                gap: 10px;
            }
            
            /* Today's Data section for very small screens */
            .today-data-card {
                min-width: 250px !important;
                height: 110px !important;
                padding: 12px !important;
            }
            
            .metrics-card {
                min-width: 260px !important;
                height: 110px !important;
                padding: 12px !important;
            }
            
            /* Power Station Card responsive */
            .power-station-card {
                min-height: 350px !important;
                padding: 12px !important;
            }
        }

        /* Charts Section */
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .chart-container {
            padding: 20px;
            height: 605.2px; /* Âõ∫ÂÆöÈ´òÂ∫¶Ôºå‰∏éÂú∞ÂõæÂç°Áâá‰∏ÄËá¥ */
            display: flex;
            flex-direction: column;
            width: calc(100% - 30px); /* ÂáèÂéªÂ∑¶‰æßgapÁöÑÂÆΩÂ∫¶ */
            margin-left: auto;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 18px;
        }

        .chart-title {
            font-size: 16px;
            font-weight: 500;
            margin: 0;
        }

        .chart-controls {
            display: flex;
            gap: 10px;
        }

        .tab {
            padding: 6px 16px;
            background: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
            border-radius: 16px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .tab.active {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-color: rgba(255, 255, 255, 0.3);
        }

        .chart-area {
            flex: 1;
            width: 100%;
            height: calc(100% - 60px); /* ÂáèÂéªÂ§¥ÈÉ®ÁöÑÈ´òÂ∫¶ */
            min-height: 0; /* Èò≤Ê≠¢ÂÜÖÂÆπÊ∫¢Âá∫ */
        }

        /* Info Cards */
        .info-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .info-card {
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
        }

        .info-icon {
            width: 40px;
            height: 40px;
            margin: 0 auto 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .info-value {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .info-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Stats Overview */
        .stats-overview {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
            width: calc(100% - 30px);
            margin-left: auto;
        }

        .stat-overview-card {
            background: rgba(26, 26, 26, 0.85);
            backdrop-filter: blur(25px) saturate(1.5);
            border-radius: 10px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 120px;
            justify-content: center;
        }

        .stat-overview-icon {
            font-size: 20px;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.8);
        }

        .stat-overview-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            margin-bottom: 4px;
        }

        .stat-overview-value {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
        }

        /* Bottom Section */
        .bottom-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 40px;
        }

        .data-table {
            padding: 30px;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .data-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .data-label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }

        .data-value {
            font-size: 18px;
            font-weight: 500;
        }

        /* Region Selection Layer Styles */
        .region-select-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.05) !important;
            color: var(--color-text) !important;
        }
        
        .region-select-tab.active {
            background: var(--color-region-primary) !important;
            color: #000 !important;
            box-shadow: 0 2px 8px rgba(0, 255, 136, 0.3);
        }
        
        /* Enhanced readability for selected region status badges */
        .region-select-tab.active .region-status-badge {
            background: rgba(0, 0, 0, 0.15) !important;
            color: #000 !important;
            border-color: rgba(0, 0, 0, 0.3) !important;
            font-weight: 700 !important;
        }
        
        /* Special styling for waitingExecution status */
        .region-status-badge[data-status="waitingExecution"] {
            background: rgba(30, 127, 255, 0.2) !important;
            color: #1E7FFF !important;
            border: 1px dashed #1E7FFF !important;
            padding: 6px 12px !important;
            border-radius: 10px !important;
            font-size: 11px !important;
            font-weight: 600 !important;
            display: inline-block !important;
        }
        
        /* Special styling for waitingExecution status when region is active */
        .region-select-tab.active .region-status-badge[data-status="waitingExecution"] {
            background: rgba(0, 0, 0, 0.2) !important;
            color: #000 !important;
            border: 1px dashed rgba(0, 0, 0, 0.4) !important;
        }
        
        /* Status badge base styles */
        .region-status-badge {
            transition: all 0.3s ease;
            font-size: 13px;
            font-weight: 700;
            padding: 6px 12px;
            border-radius: 16px;
            border-width: 1px;
        }

        /* Hide region status indicators in auto conditions modal */
        #regionOverviewCard .region-status-indicator {
            display: none !important;
        }
        
        /* Responsive Layout */
        @media (min-width: 1441px) {
            /* Large screens */
            .container {
                max-width: 100%;
                padding: 20px 15px 20px;
            }
            
            .main-content-scrollable {
                padding: 0;
            }
            
            .stats-row {
                height: auto;
                min-height: 600px;
            }

            .power-station-container {
                height: auto !important;
                min-height: auto;
            }

            .custom-card {
                min-height: 600px;
            }
        }

        @media (max-width: 1440px) and (min-width: 1201px) {
            /* Medium-large screens */
            .container {
                max-width: 100%;
                padding: 20px 12px 20px;
            }
            
            .main-content-scrollable {
                padding: 0;
            }
            
            .region-selector-fixed {
                padding: 0 20px;
                padding-bottom: 20px;
            }
            
            /* Today's Data section responsive */
            .today-data-card {
                min-width: 380px !important;
                height: 145px !important;
            }
            
            .metrics-card {
                min-width: 560px !important;
                height: 145px !important;
            }
            
            .today-data-row {
                padding-left: 12px !important;
                padding-right: 12px !important;
            }
            
            /* Power Station Card responsive */
            .power-station-card {
                min-height: 480px !important;
            }
            
        }

        @media (max-width: 1200px) {
            /* Tablet and small desktop */
            .container {
                max-width: 100%;
                padding: 20px 10px 20px;
            }
            
            .region-selector-fixed {
                padding: 0 20px;
                padding-bottom: 20px;
            }
            
            .stats-row {
                grid-template-columns: 1fr 2fr;
                height: auto;
                gap: 20px;
            }
            
            /* Today's Data section responsive */
            .today-data-card {
                min-width: 320px !important;
                height: 130px !important;
            }
            
            .metrics-card {
                min-width: 460px !important;
                height: 130px !important;
            }
            
            .today-data-row {
                padding-left: 10px !important;
                padding-right: 10px !important;
            }
            
            /* Power Station Card responsive */
            .power-station-card {
                min-height: 420px !important;
            }
            
        }

        @media (max-width: 768px) {
            /* Mobile devices */
            .container {
                max-width: 100%;
                padding: 20px 8px 20px;
            }
            
            .region-selector-fixed {
                padding: 0 16px;
                padding-bottom: 20px;
            }
            
            .region-selection-layer {
                margin-bottom: 15px;
                padding: 12px;
            }
            
            /* Today's Data section responsive - stack on mobile */
            .today-data-card {
                min-width: 280px !important;
                height: 120px !important;
                margin-bottom: 15px;
            }
            
            .metrics-card {
                min-width: 290px !important;
                height: 120px !important;
            }
            
            /* Stack cards vertically on mobile */
            .today-data-row {
                flex-direction: column !important;
                gap: 15px !important;
                padding-left: 8px !important;
                padding-right: 8px !important;
            }
            
            /* Power Station Card responsive */
            .power-station-card {
                min-height: 380px !important;
            }
            
            /* Responsive font sizes for today's data */
            .today-data-card div[style*="font-size:14px"] {
                font-size: 12px !important;
            }
            
            .today-data-card div[style*="font-size:16px"] {
                font-size: 14px !important;
            }
            
            .today-data-card div[style*="font-size:10px"] {
                font-size: 9px !important;
            }
            
            .today-data-card div[style*="font-size:8px"] {
                font-size: 7px !important;
            }
            
        }

        @media (max-width: 480px) {
            /* Small mobile devices */
            .container {
                max-width: 100%;
                padding: 95px 5px 15px;
            }
            
            .region-selection-layer {
                margin-bottom: 10px;
                padding: 10px;
            }
            
            .region-selection-tabs {
                gap: 3px;
                flex-wrap: wrap;
            }
            
            .region-select-tab {
                padding: 6px 12px !important;
                font-size: 12px;
                min-width: 70px !important;
            }
            
            .power-station-container {
                height: auto !important;
                min-height: auto;
                padding: 12px;
            }
            
            .custom-card {
                height: auto !important;
                min-height: 500px !important;
            }

            .price-cards {
                gap: 8px;
            }
            
            .price-card {
                min-height: 90px;
            }
            
            .main-price-circle {
                width: 90px;
                height: 90px;
            }
            
            .current-price {
                font-size: 20px;
            }
            
            .price-range {
                font-size: 7px;
            }
            
            .price-percentage {
                font-size: 10px;
            }
            
            .circle-action-btn {
                height: 45px;
                font-size: 10px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
                gap: 6px;
            }
            
            .info-cards {
                grid-template-columns: 1fr;
            }
            
            .price-circle-layout {
                gap: 6px;
                margin: 10px 0;
            }
        }
        
        /* Responsive adjustments for info-summary-card */
        @media (min-width: 1441px) {
            .info-summary-card {
                height: 150px !important;
                min-height: 150px !important;
                max-height: 150px !important;
                margin-top: 15px !important;
                padding: 0 24px !important;
            }
        }
        
        @media (max-width: 1440px) and (min-width: 1201px) {
            .info-summary-card {
                height: 140px !important;
                min-height: 140px !important;
                max-height: 140px !important;
                margin-top: 15px !important;
                padding: 0 20px !important;
            }
        }
        
        @media (max-width: 1200px) {
            .info-summary-card {
                height: 120px !important;
                min-height: 120px !important;
                max-height: 120px !important;
                margin-top: 12px !important;
                padding: 0 16px !important;
            }
        }
        
        @media (max-width: 768px) {
            .info-summary-card {
                height: 100px !important;
                min-height: 100px !important;
                max-height: 100px !important;
                margin-top: 10px !important;
                padding: 0 12px !important;
            }
            
            .info-summary-card div[style*="font-size:18px"] {
                font-size: 16px !important;
            }
            
            .info-summary-card div[style*="font-size:13px"] {
                font-size: 12px !important;
            }
        }
        
        @media (max-width: 480px) {
            .info-summary-card {
                height: 90px !important;
                min-height: 90px !important;
                max-height: 90px !important;
                margin-top: 8px !important;
                padding: 0 10px !important;
            }
            
            .info-summary-card div[style*="font-size:18px"] {
                font-size: 14px !important;
            }
            
            .info-summary-card div[style*="font-size:13px"] {
                font-size: 10px !important;
            }
        }

        /* Height-based Responsive */
        @media (min-height: 900px) {
            .power-station-container {
                height: auto !important;
                min-height: 900px;
                max-height: none;
            }
            
            .custom-card {
                height: auto !important;
                min-height: 500px;
                max-height: 700px;
            }
        }

        @media (min-height: 800px) and (max-height: 899px) {
            .power-station-container {
                height: auto !important;
                min-height: auto;
            }

            .custom-card {
                height: auto !important;
                min-height: 550px;
            }
        }
        
        @media (max-height: 800px) {
            .power-station-container {
                height: auto;
            }
            
            .stats-row {
                height: auto;
            }
            
            .custom-card {
                height: auto !important;
                min-height: 450px;
            }

            .right-panel-scroll {
                height: auto !important;
            }
            
            .main-price-circle {
                width: 100px;
                height: 100px;
            }
            
            .current-price {
                font-size: 24px;
            }
            
            .price-circle-layout {
                margin: 8px 0;
            }
            
            .action-buttons {
                margin: 8px 0;
            }
        }
        
        @media (max-height: 600px) {
            .power-station-container {
                height: auto !important;
                min-height: auto;
            }
            
            .custom-card {
                height: auto !important;
                min-height: 300px;
            }
            
            .stats-row {
                height: auto;
                min-height: 300px;
            }
            
            .main-price-circle {
                width: 80px;
                height: 80px;
            }
            
            .current-price {
                font-size: 20px;
            }
            
            .side-price {
                font-size: 14px;
            }
            
            .station-header {
                margin-bottom: 4px;
                padding-bottom: 4px;
            }
            
            .station-title {
                font-size: 14px;
            }
        }

        /* Animations */
        @keyframes pulse {
            0% {
                opacity: 0.6;
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0.6;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Status Indicators */
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .status-green {
            background: #00ff88;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }

        .status-yellow {
            background: #ffaa00;
            box-shadow: 0 0 10px rgba(255, 170, 0, 0.5);
        }

        /* Region Status Indicators */
        .region-status {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 12px;
            font-weight: 600;
        }

        .region-status.charging {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .region-status.discharging {
            background: rgba(255, 170, 0, 0.2);
            color: #ffaa00;
            border: 1px solid rgba(255, 170, 0, 0.3);
        }

        /* ÈÄâ‰∏≠Áä∂ÊÄÅ‰∏ãÁöÑÊ†áËÆ∞Ê†∑Âºè */
        .region-select-tab.active .region-status.charging {
            background: #000;
            color: #00ff88;
            border: 1px solid #00ff88;
            font-weight: 700;
            box-shadow: 0 0 6px rgba(0, 255, 136, 0.5);
        }

        .region-select-tab.active .region-status.discharging {
            background: #000;
            color: #ffaa00;
            border: 1px solid #ffaa00;
            font-weight: 700;
            box-shadow: 0 0 6px rgba(255, 170, 0, 0.5);
        }
        
        /* ÊåâÈíÆÊÇ¨ÂÅúÊïàÊûú */
        .region-select-tab:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .region-select-tab.active {
            box-shadow: 0 4px 12px rgba(0, 255, 136, 0.3);
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #00ff88;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px) saturate(1.5);
            justify-content: center;
            align-items: center;
        }
        
        /* ËÆæÂ§áÂìçÂ∫îÁªüËÆ°ÂºπÁ™óÊúÄÈ´ò‰ºòÂÖàÁ∫ß */
        #operationModal {
            z-index: 2147483650 !important;
        }
        
        #operationModal .modal-content {
            z-index: 2147483650 !important;
            position: relative !important;
        }
        
        .modal.show {
            display: flex !important;
        }

        .modal-content {
            background: #1a1a2e;
            margin: 0;
            padding: 0;
            border: none;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            color: #fff;
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Modal Button Styles */
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #00cc6a, #00aa55);
            transform: translateY(-1px);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ff4444, #ff6b6b);
            color: #fff;
        }
        
        .btn-danger:hover {
            background: linear-gradient(135deg, #ff3333, #ff5555);
            transform: translateY(-1px);
        }
        
        /* Operation Type Styling */
        .operation-type {
            padding: 8px 16px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .operation-type.stop-charge,
        .operation-type.stop-discharge {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }
        
        /* Info Row Styling */
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .info-row label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 500;
        }
        
        .info-row span {
            color: #fff;
            font-size: 14px;
            font-weight: 600;
        }
        
        /* Warning Message */
        .warning-message {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 10px;
            padding: 16px;
            margin-top: 20px;
            text-align: center;
        }
        
        .warning-message span {
            color: #ffc107;
            font-size: 14px;
            line-height: 1.5;
        }

        .modal-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 20px;
        }

        .modal-icon.success {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }

        .modal-icon.warning {
            background: rgba(255, 149, 0, 0.2);
            color: #ff9500;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #00ff88;
        }

        .modal-body {
            margin-bottom: 25px;
        }

        .modal-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .modal-info-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-info-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .modal-info-value {
            font-size: 16px;
            font-weight: 600;
            color: #fff;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 12px;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-btn {
            flex: 0 0 auto;
            min-width: 120px;
            height: 44px;
            padding: 10px 25px;
            border: none;
            border-radius: 22px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-btn-primary {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
        }

        .modal-btn-primary:hover {
            background: linear-gradient(135deg, #00cc6a, #00aa55);
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }

        .modal-btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .modal-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
            transform: translateY(-1px);
        }
        
        /* Details Panel Styles */
        .details-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: var(--color-bg-card);
            border-left: 1px solid var(--color-border);
            box-shadow: -4px 0 20px rgba(0,0,0,0.1);
            z-index: 1001;
            transition: right 0.3s ease;
            overflow-y: auto;
        }
        
        .details-panel.show {
            right: 0;
        }

        /* Device Status Drawer Styles */
        .device-status-drawer {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 99999 !important;
            pointer-events: none;
            visibility: hidden;
        }

        .device-status-drawer.show {
            pointer-events: all !important;
            visibility: visible !important;
            z-index: 999999 !important;
        }

        .drawer-overlay {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            background: rgba(0, 0, 0, 0.5) !important;
            backdrop-filter: blur(4px);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 999998 !important;
        }

        .device-status-drawer.show .drawer-overlay {
            opacity: 1 !important;
            pointer-events: all !important;
        }

        .drawer-content {
            position: fixed !important;
            top: 0 !important;
            right: 0 !important;
            width: 600px !important;
            height: 100% !important;
            background: var(--color-bg-card) !important;
            backdrop-filter: blur(30px);
            border-left: 1px solid var(--color-border);
            box-shadow: -8px 0 32px rgba(0, 0, 0, 0.3);
            transform: translateX(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            z-index: 999999 !important;
        }

        .device-status-drawer.show .drawer-content {
            transform: translateX(0) !important;
        }

        .drawer-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--color-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.02);
        }

        .drawer-header h3 {
            margin: 0;
            font-size: 20px;
            font-weight: 700;
            color: var(--color-text);
        }

        .drawer-close-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 10px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            font-size: 24px;
            transition: all 0.3s;
        }

        .drawer-close-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            color: var(--color-text);
        }

        /* Drawer Tabs */
        .drawer-tabs {
            display: flex;
            gap: 6px;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.02);
            border-bottom: 1px solid var(--color-border);
        }

        .drawer-tab {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 10px 12px;
            background: transparent;
            border: 1px solid var(--color-border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--color-text-secondary);
            font-size: 12px;
            font-weight: 500;
        }

        .drawer-tab:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--color-primary);
        }

        .drawer-tab.active {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: #000;
            font-weight: 600;
        }

        .drawer-tab-count {
            font-size: 18px;
            font-weight: 700;
        }

        .drawer-tab.active .drawer-tab-count {
            color: #000;
        }

        .drawer-body {
            flex: 1;
            overflow-y: auto;
            padding: 24px 32px;
        }

        .drawer-stats {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
        }

        .drawer-stat-item {
            flex: 1;
            padding: 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--color-border);
            border-radius: 10px;
            text-align: center;
        }

        .drawer-stat-label {
            font-size: 12px;
            color: var(--color-text-secondary);
            margin-bottom: 8px;
        }

        .drawer-stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-text);
        }

        .drawer-table-container {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--color-border);
            border-radius: 10px;
            overflow: hidden;
        }

        .drawer-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }

        .drawer-table th {
            background: rgba(255, 255, 255, 0.05);
            color: var(--color-text-secondary);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }

        .drawer-table th:nth-child(1) {
            width: 40%;
        }

        .drawer-table th:nth-child(2) {
            width: 20%;
        }

        .drawer-table th:nth-child(3) {
            width: 40%;
        }

        .drawer-table td {
            padding: 14px 16px;
            color: var(--color-text);
            font-size: 14px;
            border-bottom: 1px solid var(--color-border);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .drawer-table tr:last-child td {
            border-bottom: none;
        }

        .drawer-table tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge.failed {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }

        .status-badge.success {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }

        .status-badge.executing {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .status-badge.warning {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .status-badge.info {
            background: rgba(30, 127, 255, 0.2);
            color: #1E7FFF;
        }

        .status-badge.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
        }

        /* Operation Details Tabs Styles */
        .operation-details-tabs {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 16px;
        }

        .operation-tab.active {
            color: #00ff88 !important;
            border-bottom-color: #00ff88 !important;
        }

        .operation-tab:hover {
            color: rgba(255, 255, 255, 0.9) !important;
        }

        .tab-content {
            color: rgba(255, 255, 255, 0.9);
        }

        .detail-section {
            margin-bottom: 20px;
        }

        .detail-section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #00ff88;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 600;
            color: #00ff88;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            flex: 1;
        }

        .detail-value {
            font-size: 13px;
            color: #fff;
            font-weight: 500;
            text-align: right;
        }

        .command-tag, .status-tag {
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .command-tag.charge {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }

        .command-tag.discharge {
            background: rgba(255, 170, 0, 0.2);
            color: #ffaa00;
        }

        .status-tag.success {
            background: rgba(52, 199, 89, 0.2);
            color: #34c759;
        }

        .status-tag.warning {
            background: rgba(255, 149, 0, 0.2);
            color: #ff9500;
        }

        .status-tag.danger {
            background: rgba(255, 59, 48, 0.2);
            color: #ff3b30;
        }

        .scrollable-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .scrollable-list::-webkit-scrollbar {
            width: 4px;
        }

        .scrollable-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
        }

        .scrollable-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 6px;
        }
        
        /* ÂÖ®Â±ÄÊé®ÈÄÅÂºπÁ™óÊ†∑Âºè */
        .push-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 360px;
            max-width: calc(100vw - 40px);
            background: var(--color-bg-card);
            border: 1px solid var(--color-border);
            border-radius: 10px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            opacity: 0;
            transform: translateY(100%);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            overflow: hidden;
            backdrop-filter: blur(20px) saturate(1.5);
            border-left: 4px solid var(--color-primary);
        }

        .push-notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .push-notification.hide {
            opacity: 0;
            transform: translateY(100%);
        }

        .push-notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px 12px;
            border-bottom: 1px solid var(--color-border);
        }

        .push-notification-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 600;
            color: var(--color-text);
        }

        .push-notification-icon {
            font-size: 20px;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .push-notification-close {
            background: none;
            border: none;
            color: var(--color-text-secondary);
            font-size: 20px;
            cursor: pointer;
            padding: 4px;
            border-radius: 6px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
        }

        .push-notification-close:hover {
            background: rgba(0, 0, 0, 0.1);
            color: var(--color-text);
        }

        .push-notification-content {
            padding: 16px 20px 20px;
        }

        .push-notification-content p {
            margin: 0;
            font-size: 14px;
            line-height: 1.5;
            color: var(--color-text);
        }

        /* ÂÖ≥ÈîÆÊï∞Â≠óÂº∫Ë∞ÉÊ†∑Âºè */
        .highlight-number {
            background: linear-gradient(135deg, #00ff88, #00dd77);
            color: #000;
            padding: 2px 6px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 15px;
            margin: 0 2px;
            display: inline-block;
            box-shadow: 0 2px 4px rgba(0, 255, 136, 0.3);
        }
        .highlight-value {
            background: linear-gradient(135deg, #ffc107, #ff9800);
            color: #000;
            padding: 2px 6px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 15px;
            margin: 0 2px;
            display: inline-block;
            box-shadow: 0 2px 4px rgba(255, 193, 7, 0.3);
        }

        .highlight-time {
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            color: #fff;
            padding: 2px 6px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 15px;
            margin: 0 2px;
            display: inline-block;
            box-shadow: 0 2px 4px rgba(255, 107, 107, 0.3);
        }

        .highlight-action {
            background: linear-gradient(135deg, #ffc107, #ff9800);
            color: #000;
            padding: 2px 6px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 15px;
            margin: 0 2px;
            display: inline-block;
            box-shadow: 0 2px 4px rgba(255, 193, 7, 0.3);
        }

        /* ÁßªÂä®Á´ØÂìçÂ∫îÂºè */
        @media (max-width: 768px) {
            .push-notification {
                right: 10px;
                left: 10px;
                width: auto;
                max-width: none;
            }
        }
        
        .details-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--color-border);
            background: var(--color-bg);
        }
        
        .details-panel-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: var(--color-text);
        }
        
        .details-close-btn {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--color-text-secondary);
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .details-close-btn:hover {
            background: var(--color-border);
            color: var(--color-text);
        }
        
        .details-content {
            padding: 20px;
        }
        
        .details-section {
            margin-bottom: 30px;
        }
        
        .details-section h4 {
            margin: 0 0 15px 0;
            font-size: 16px;
            font-weight: 600;
            color: var(--color-text);
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 8px;
        }
        
        .details-grid {
            display: grid;
            gap: 12px;
        }
        
        .details-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }
        
        .details-label {
            font-size: 14px;
            color: var(--color-text-secondary);
            font-weight: 500;
        }
        
        .details-value {
            font-size: 14px;
            color: var(--color-text);
            font-weight: 600;
        }
        
        .status-overview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        
        .status-item {
            text-align: center;
            padding: 15px;
            background: var(--color-bg);
            border-radius: 10px;
            border: 1px solid var(--color-border);
        }
        
        .status-number {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 5px;
        }
        
        .status-label {
            font-size: 12px;
            color: var(--color-text-secondary);
            font-weight: 500;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 20px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: #fff;
        }

        /* Status Summary */
        .status-summary {
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 16px;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .status-summary-title {
            font-size: 16px;
            font-weight: 600;
            color: #00ff88;
            margin-bottom: 15px;
            text-align: center;
        }

        .status-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .status-stat {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .status-stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #00ff88;
            margin-bottom: 5px;
        }

        .status-stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Map Controls */
        .map-controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 20px;
            border-radius: 10px;
            backdrop-filter: blur(20px) saturate(1.5);
        }

        .map-stats {
            display: flex;
            gap: 30px;
        }

        .map-stat {
            text-align: center;
        }

        .map-stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            display: block;
            margin-bottom: 5px;
        }

        .map-stat-value {
            font-size: 18px;
            font-weight: 600;
            color: #00ff88;
        }

        /* Metrics Grid - New Layout */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-top: 12px;
        }

        .metrics-grid .metric-card {
            min-width: 0;
        }

        .metric-card {
            background: var(--color-bg-card, rgba(255,255,255,0.12));
            border-radius: var(--radius, 8px);
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
            border: 1px solid var(--color-border, rgba(255,255,255,0.1));
            color: var(--color-text);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .metric-value {
            font-size: 20px;
            font-weight: 600;
            color: #fff;
            text-align: left;
            line-height: 1;
        }

        .metric-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            text-align: left;
            line-height: 1;
        }

        .metric-change {
            font-size: 11px;
            color: #00ff88;
            display: flex;
            align-items: center;
            gap: 2px;
            text-align: left;
            line-height: 1;
            padding: 2px 0;
        }

        .metric-change.positive {
            color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
        }

        /* Market Analysis Section */
        .market-analysis-section {
            margin-bottom: 40px;
            padding: 20px;
            width: calc(66.67% - 30px);
            margin-left: auto;
            background: rgba(17, 17, 17, 0.7);
            backdrop-filter: blur(20px) saturate(1.5);
        }

        .price-stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .price-stat-card {
            background: rgba(25, 25, 25, 0.9);
            border-radius: 10px;
            padding: 16px;
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .price-stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }

        .price-stat-value {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
        }

        .price-stat-change {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        .price-stat-icon {
            position: absolute;
            top: 16px;
            right: 16px;
            font-size: 16px;
            opacity: 0.7;
        }

        /* Analytics Section */
        .analytics-section {
            width: 100%;
            display: flex;
            margin-bottom: 40px;
        }

        .analytics-chart {
            width: 66.6666%;
            min-height: 400px;
            padding: 30px;
            margin-left: auto;
        }

        .system-overview {
            padding: 30px;
        }

        .overview-stats {
            margin-bottom: 25px;
        }

        .overview-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .overview-item:last-child {
            border-bottom: none;
        }

        .overview-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }

        .overview-value {
            font-size: 14px;
            font-weight: 600;
            color: #fff;
        }

        .status-active {
            color: #00ff88;
        }

        .performance-chart {
            height: 120px;
            margin: 20px 0;
        }

        .overview-footer {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Date Selection Styles */
        .date-selection {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .date-inputs {
            display: flex;
            gap: 20px;
            align-items: end;
            margin-bottom: 15px;
        }

        .date-input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .date-input-group label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 500;
        }

        .date-input {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 8px 12px;
            color: #fff;
            font-size: 14px;
            min-width: 140px;
        }

        .date-input:focus {
            outline: none;
            border-color: rgba(0, 255, 136, 0.5);
            box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.1);
        }

        .date-input::-webkit-calendar-picker-indicator {
            filter: invert(1);
            opacity: 0.6;
        }
        
        /* ÈöêËóèÊ®°ÊÄÅÊ°Ü‰∏≠ÁöÑÊó∂Èó¥ËæìÂÖ•Ê°ÜÊó•ÂéÜÂõæÊ†á */
        input[type="time"]::-webkit-calendar-picker-indicator {
            display: none;
        }
        
        /* ÈöêËóèÊï∞Â≠óËæìÂÖ•Ê°ÜÁöÑ‰∏ä‰∏ãÁÆ≠Â§¥ */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        input[type="number"] {
            -moz-appearance: textfield;
        }

        .quick-select {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .quick-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-right: 10px;
        }

        .quick-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 6px 12px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-btn:hover {
            background: rgba(0, 255, 136, 0.1);
            border-color: rgba(0, 255, 136, 0.3);
            color: #00ff88;
        }

        /* Data Cards */
        .data-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .data-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .data-icon {
            font-size: 28px;
            color: rgba(255, 255, 255, 0.8);
        }

        .data-content {
            flex: 1;
        }

        .data-label {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
        }

        .data-value {
            font-size: 32px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 8px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 24px;
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .stats-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .stats-label {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 12px;
        }

        .stats-value {
            font-size: 32px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 8px;
        }

        .stats-change {
            font-size: 16px;
            color: #00ff88;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stats-change.positive {
            color: #00ff88;
        }

        .stats-change.negative {
            color: #8A4AFF;
        }

        /* Remove excess bottom margin from last elements */
        .power-station-container > *:last-child {
            margin-bottom: 0;
        }

        .stats-grid > *:last-child {
            margin-bottom: 0;
        }

        /* Market and Map Container Styles */
        .market-container,
        .map-container {
            padding: 20px;
            min-height: auto;
            max-height: 85vh;
            display: flex;
            flex-direction: column;
        }

        /* Market Stats Cards */
.market-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 24px;
}

.market-stat-card {
    padding: 20px;
    display: flex;
    flex-direction: column;
}

.market-stat-label {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.market-stat-value {
    font-size: 28px;
    font-weight: 600;
    color: #fff;
    display: flex;
    align-items: center;
    gap: 8px;
}

.market-stat-value .indicator {
    width: 4px;
    height: 24px;
    background: #4A9EFF;
    border-radius: 6px;
}

.market-stat-value .menu-dots {
    margin-left: auto;
    color: rgba(255, 255, 255, 0.4);
    cursor: pointer;
}

.market-stat-value .menu-dots:hover {
    color: rgba(255, 255, 255, 0.8);
}

.chart-container {
    padding: 20px;
    height: 605.2px; /* ‰∏éÁîµÁ´ôÁÆ°ÁêÜÂç°ÁâáÈ´òÂ∫¶‰øùÊåÅ‰∏ÄËá¥ */
    display: flex;
    flex-direction: column;
        }
/* AI Êô∫ËÉΩÊâòÁÆ°Èù¢ÊùøÂä®Áîª */
@keyframes aiPulseAnim {
    0%, 100% { opacity: 1; box-shadow: 0 0 6px rgba(0,255,136,0.6); }
    50% { opacity: 0.4; box-shadow: 0 0 12px rgba(0,255,136,0.9); }
}
@keyframes aiPanelSlideIn {
    from { opacity: 0; max-height: 0; margin-top: 0; }
    to { opacity: 1; max-height: 400px; margin-top: 12px; }
}
@keyframes aiPanelSlideOut {
    from { opacity: 1; max-height: 400px; margin-top: 12px; }
    to { opacity: 0; max-height: 0; margin-top: 0; }
}
    </style>
    <style>
        .custom-card {
            height: 600px;
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 4px 24px rgba(0,255,136,0.04);
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
        }
        /* ÁîµÁ´ôÂç°ÁâáÔºöÂßãÁªàÊãâ‰º∏Â°´Êª° grid cellÔºåË¶ÜÁõñÊâÄÊúâ .custom-card ÁöÑ height: auto */
        .stats-row > .power-station-card {
            height: 100% !important;
            margin-bottom: 0;
        }
        .market-map-card {
            height: 605.2px;
            min-height: 605.2px;
            max-height: 605.2px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 4px 24px rgba(0,255,136,0.04);
            margin-bottom: 0;
            display: flex;
            flex-direction: column;
        }
    </style>
    <style>
        /* Âè≥‰æßÂÜÖÂÆπÊ≠£Â∏∏ÊòæÁ§∫Ôºå‰∏çÁã¨Á´ãÊªöÂä® */
        .right-panel-content {
            display: flex;
            flex-direction: column;
            height: auto;
            overflow: visible;
            padding-right: 10px;
        }
        
        .right-panel-scroll {
            overflow: visible;
        }
    </style>
</head>
<body>
    <!-- Login verification script -->
    <script>
        // Check if user is logged in
        const isLoggedIn = localStorage.getItem('isLoggedIn');
        if (!isLoggedIn || isLoggedIn !== 'true') {
            // Redirect to login page if not logged in
            window.location.href = 'vpp-login.html';
        }
    </script>
    
    <!-- Header Container for HeaderNav Component -->
    <div id="headerContainer"></div>

    <!-- Main Container -->
    <!-- Scrollable Main Content -->
    <div class="main-content-scrollable">
        <div class="container" style="padding-top: 20px; padding-left: 10px; padding-right: 10px; width: 100%; max-width: 100%; box-sizing: border-box;">

            <!-- ‰ªäÊó•ÊåáÊ†áÊ†è -->
            <div style="position: relative; display: flex; align-items: stretch; width: 100%; margin: 0 0 20px 0; background: rgba(255,255,255,0.06); backdrop-filter: blur(30px) saturate(1.5); -webkit-backdrop-filter: blur(30px) saturate(1.5); border-radius: 16px; border: 1px solid rgba(255,255,255,0.12); padding: 14px 16px; box-shadow: 0 2px 16px rgba(0,0,0,0.3); box-sizing: border-box;">
                
                
                <!-- ‰ªäÊó•ÂÖÖÁîµÈáè & ÊàêÊú¨ -->
                <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 8px 4px;">
                    <div style="font-size: 18px; margin-bottom: 4px;">‚ö°</div>
                    <div style="font-size: 10px; color: rgba(255,255,255,0.6); margin-bottom: 4px;" data-i18n="dashboard.todayChargeLabel">‰ªäÊó•ÂÖÖÁîµÈáè</div>
                    <div style="font-size: 22px; font-weight: 700; color: #00ff88;" id="todayChargeAmount">2.45 MWh</div>
                    <div style="font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 4px;" ><span data-i18n="dashboard.costLabel">ÊàêÊú¨</span> <span style="color: #ff6b6b; font-weight: 600;" id="todayChargeCost">$108</span></div>
                </div>
                <!-- ÂàÜÂâ≤Á∫ø -->
                <div style="width: 1px; background: rgba(255,255,255,0.1); margin: 8px 0;"></div>
                <!-- ‰ªäÊó•ÊîæÁîµÈáè & Êî∂ÂÖ• -->
                <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 8px 4px;">
                    <div style="font-size: 18px; margin-bottom: 4px;">üîã</div>
                    <div style="font-size: 10px; color: rgba(255,255,255,0.6); margin-bottom: 4px;" data-i18n="dashboard.todayDischargeLabel">‰ªäÊó•ÊîæÁîµÈáè</div>
                    <div style="font-size: 22px; font-weight: 700; color: #ffc107;" id="todayDischargeAmount">2.18 MWh</div>
                    <div style="font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 4px;" ><span data-i18n="dashboard.revenueLabel">Êî∂ÂÖ•</span> <span style="color: #00ff88; font-weight: 600;" id="todayDischargeRevenue">$523</span></div>
                </div>
                <!-- ÂàÜÂâ≤Á∫ø -->
                <div style="width: 1px; background: rgba(255,255,255,0.1); margin: 8px 0;"></div>
                <!-- ÂáÄÂà©Ê∂¶ & ÂØπÊØîÊò®Êó• -->
                <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 8px 4px;">
                    <div style="font-size: 18px; margin-bottom: 4px;">üí∞</div>
                    <div style="font-size: 10px; color: rgba(255,255,255,0.6); margin-bottom: 4px;" data-i18n="dashboard.netProfitLabel">ÂáÄÂà©Ê∂¶</div>
                    <div style="font-size: 22px; font-weight: 700; color: #00ff88;" id="todayNetProfit">$415</div>
                    <div style="font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 4px;">
                        <span data-i18n="dashboard.vsYesterday">ËæÉÊò®Êó•</span>
                        <span id="profitVsYesterday" style="color: #00ff88; font-weight: 600;">‚Üë 12.3%</span>
                    </div>
                </div>
            </div>

            <!-- Top Stats Row -->
        <div class="stats-row" style="align-items: stretch; margin-left: 0; margin-right: 0; width: 100%;">
            <!-- Power Station Management Card -->
            <div class="custom-card power-station-card" style="width: 100%; height: 100% !important; background: rgba(255,255,255,0.03); border-radius: 16px; border: 1px solid rgba(255,255,255,0.08); box-shadow: 0 4px 24px rgba(0,255,136,0.04); margin-bottom: 0; display: flex; flex-direction: column; padding: 16px; overflow: visible; box-sizing: border-box; position: relative;">
                <!-- Header -->
                <div style="display: flex; justify-content: space-between; align-items: center; flex-shrink: 0;">
                    <h3 style="margin: 0; font-size: 15px; font-weight: 600; color: #fff; display: flex; align-items: center; gap: 8px;">
                        <span data-i18n="dashboard.stationManagement">ÁîµÁ´ôÁÆ°ÁêÜ</span>
                        <span id="regionStatusText" style="font-size: 11px; font-weight: 500; padding: 2px 8px; border-radius: 6px; display: none;"></span>
                    </h3>
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <span style="font-size: 11px; color: rgba(255,255,255,0.6); font-weight: 500;" data-i18n="autoMode">Êô∫ËÉΩÊâòÁÆ°</span>
                        <div class="auto-toggle-switch" onclick="toggleAutoMode()" style="position: relative; width: 34px; height: 18px; background: rgba(255,255,255,0.1); border-radius: 10px; cursor: pointer; transition: all 0.3s; border: 1px solid rgba(255,255,255,0.2);">
                            <div id="autoToggleKnob" style="position: absolute; top: 1px; right: 1px; width: 14px; height: 14px; background: #fff; border-radius: 50%; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                </div>

                <!-- AIÈ¢ÑÊµãÁä∂ÊÄÅÊñáÊú¨ÔºàÂ§ßÂúÜ‰∏äÊñπÔºâ -->
                <div id="aiPredictionText" style="flex-shrink: 0; text-align: center; padding: 0 10px; display: none;">
                    <span id="aiPredictionContent" style="font-size: 15px; font-weight: 600; color: rgba(0,255,136,0.85); letter-spacing: 0.3px;"></span>
                    <div id="aiCountdownFlip" class="flip-clock" style="display: none;">
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div class="flip-group">
                                <div class="flip-card" id="flipH0">
                                    <div class="flip-top"><div class="flip-digit">0</div></div>
                                    <div class="flip-bottom"><div class="flip-digit">0</div></div>
                                </div>
                                <div class="flip-card" id="flipH1">
                                    <div class="flip-top"><div class="flip-digit">0</div></div>
                                    <div class="flip-bottom"><div class="flip-digit">0</div></div>
                                </div>
                            </div>
                            <div class="flip-label" data-i18n="dashboard.hour">Êó∂</div>
                        </div>
                        <span class="flip-separator">:</span>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div class="flip-group">
                                <div class="flip-card" id="flipM0">
                                    <div class="flip-top"><div class="flip-digit">0</div></div>
                                    <div class="flip-bottom"><div class="flip-digit">0</div></div>
                                </div>
                                <div class="flip-card" id="flipM1">
                                    <div class="flip-top"><div class="flip-digit">0</div></div>
                                    <div class="flip-bottom"><div class="flip-digit">0</div></div>
                                </div>
                            </div>
                            <div class="flip-label" data-i18n="dashboard.minute">ÂàÜ</div>
                        </div>
                        <span class="flip-separator">:</span>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div class="flip-group">
                                <div class="flip-card" id="flipS0">
                                    <div class="flip-top"><div class="flip-digit">0</div></div>
                                    <div class="flip-bottom"><div class="flip-digit">0</div></div>
                                </div>
                                <div class="flip-card" id="flipS1">
                                    <div class="flip-top"><div class="flip-digit">0</div></div>
                                    <div class="flip-bottom"><div class="flip-digit">0</div></div>
                                </div>
                            </div>
                            <div class="flip-label" data-i18n="dashboard.second">Áßí</div>
                        </div>
                    </div>
                </div>

                <!-- ÂúÜÂΩ¢‰∏ªÂå∫ÂüüÔºàflex:1 ÊíëÊª°‰∏≠ÈÉ®ÔºåÂÜÖÂÆπÂ±Ö‰∏≠Ôºâ -->
                <div style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 20px;">
                    <button class="action-btn charge-btn" id="chargeBtn" onclick="window.handleCharge ? window.handleCharge() : handleCharge()" style="width: 60px; height: 42px; background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%); color: #000; border: none; border-radius: 21px; font-size: 13px; font-weight: 700; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(0,255,136,0.3); display: flex; align-items: center; justify-content: center;">
                        <span data-i18n="charge">ÂÖÖÁîµ</span>
                    </button>

                    <div id="circleOrbitWrapper" style="position: relative; width: 180px; height: 180px; flex-shrink: 0;">
                        <div id="aiOrbitTrack"></div>
                        <div id="aiOrbitRobot">
                            <svg viewBox="0 0 24 24" width="28" height="28" fill="none">
                                <rect x="4" y="8" width="16" height="12" rx="3" stroke="#00ff88" stroke-width="1.5" fill="rgba(0,255,136,0.1)"/>
                                <circle cx="9" cy="14" r="2" fill="#00ff88"/>
                                <circle cx="15" cy="14" r="2" fill="#00ff88"/>
                                <path d="M8 8V6a4 4 0 0 1 8 0v2" stroke="#00ff88" stroke-width="1.5" stroke-linecap="round"/>
                                <line x1="12" y1="2" x2="12" y2="4" stroke="#00ff88" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="12" cy="1.5" r="1" fill="#00ff88"/>
                            </svg>
                        </div>
                        <div id="mainPriceCircle" style="position: relative; width: 180px; height: 180px; flex-shrink: 0; cursor: pointer; transition: transform 0.3s ease; border-radius: 50%; overflow: hidden; background: #666;" onclick="handleMainCircleClick()" onmouseenter="handleMainCircleHover()" onmouseleave="handleMainCircleLeave()">
                            <div id="waterLevelContainer" style="position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; transition: height 0.5s ease; z-index: 1;">
                                <div id="waterWaveContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #5AC8FA; transition: background 0.3s ease;"></div>
                            </div>
                            <div id="priceDisplay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; transition: opacity 0.3s ease;">
                                <div style="font-size: 30px; font-weight: 700; color: #fff;" id="currentPrice">$163</div>
                                <div style="font-size: 13px; color: rgba(255,255,255,0.85); margin-top: 3px; font-weight: 600;" id="stationStatusLabel">ÁîµÁ´ôÁä∂ÊÄÅ</div>
                            </div>
                            <div id="statusDisplay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; display: none; opacity: 0; transition: opacity 0.3s ease;">
                                <div id="statusText" style="font-size: 13px; font-weight: 600; color: rgba(255,255,255,0.9); line-height: 1.4;"></div>
                            </div>
                            <div id="hoverOverlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #ff4444; opacity: 0; transition: opacity 0.3s ease; z-index: 15; pointer-events: none;"></div>
                            <div id="stopDisplay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 20; display: none; opacity: 0; transition: opacity 0.3s ease;">
                                <div style="font-size: 16px; font-weight: 700; color: #fff;" data-i18n="stop">ÂÅúÊ≠¢</div>
                            </div>
                        </div>
                    </div>

                    <button class="action-btn discharge-btn" id="dischargeBtn" onclick="window.handleDischarge ? window.handleDischarge() : handleDischarge()" style="width: 60px; height: 42px; background: linear-gradient(135deg, #FFC107 0%, #FFD700 100%); color: #000; border: none; border-radius: 21px; font-size: 13px; font-weight: 700; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(255,193,7,0.3); display: flex; align-items: center; justify-content: center;">
                        <span data-i18n="discharge">ÊîæÁîµ</span>
                    </button>
                </div>

                <!-- Â∫ïÈÉ®Êï∞ÊçÆ -->
                <div style="flex-shrink: 0; display: flex; flex-direction: column; gap: 20px;">
                    <!-- Á¨¨‰∏ÄÊéíÔºöÂ§ßÂç°ÁâáÔºå3‰∏™ÊåáÊ†áÁ´ñÊéí icon‚ÜíÊñáÂ≠ó‚ÜíÊï∞Â≠ó -->
                    <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 14px 10px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 0;">
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 4px 0;">
                            <div style="width: 34px; height: 34px; border-radius: 10px; background: rgba(0,255,136,0.1); display: flex; align-items: center; justify-content: center;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ff88" stroke-width="2" stroke-linecap="round"><rect x="6" y="7" width="12" height="14" rx="2"/><line x1="10" y1="7" x2="10" y2="4"/><line x1="14" y1="7" x2="14" y2="4"/><line x1="6" y1="13" x2="18" y2="13"/></svg>
                            </div>
                            <div style="font-size: 10px; color: rgba(255,255,255,0.5);" data-i18n="currentSOC">ÂΩìÂâçSOC</div>
                            <div style="font-size: 20px; font-weight: 700; color: #00ff88;" id="currentSOCCard">72%</div>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 4px 0; border-left: 1px solid rgba(255,255,255,0.06); border-right: 1px solid rgba(255,255,255,0.06);">
                            <div style="width: 34px; height: 34px; border-radius: 10px; background: rgba(255,107,107,0.1); display: flex; align-items: center; justify-content: center;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff6b6b" stroke-width="2" stroke-linecap="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                            </div>
                            <div style="font-size: 10px; color: rgba(255,255,255,0.5);" data-i18n="batteryCost">ÁîµÊ±†ÊàêÊú¨</div>
                            <div style="font-size: 20px; font-weight: 700; color: #ff6b6b;" id="batteryCostCard">$85.50</div>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 4px 0;">
                            <div style="width: 34px; height: 34px; border-radius: 10px; background: rgba(0,255,136,0.1); display: flex; align-items: center; justify-content: center;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ff88" stroke-width="2" stroke-linecap="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
                            </div>
                            <div style="font-size: 10px; color: rgba(255,255,255,0.5);" data-i18n="todayProfit">‰ªäÊó•Ëé∑Âà©</div>
                            <div style="font-size: 20px; font-weight: 700; color: #00ff88;" id="todayProfitCard">$320</div>
                        </div>
                    </div>
                    <!-- Á¨¨‰∫åÊéíÔºöÂÖÖÁîµÂç°Áâá + ÊîæÁîµÂç°Áâá -->
                    <div style="display: flex; gap: 8px;">
                        <div style="flex: 1; background: rgba(0,255,136,0.05); border: 1px solid rgba(0,255,136,0.12); border-radius: 10px; padding: 10px 12px;">
                            <div style="display: flex; align-items: center; gap: 5px; margin-bottom: 8px;">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#00ff88" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><polyline points="19 12 12 19 5 12"/></svg>
                                <span style="font-size: 11px; color: rgba(255,255,255,0.6); font-weight: 600;" data-i18n="todayCharge">‰ªäÊó•ÂÖÖÁîµ</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: baseline;">
                                <div style="font-size: 20px; font-weight: 700; color: #00ff88;" id="todayChargeEnergy">0.00 MWh</div>
                                <div style="font-size: 20px; font-weight: 700; color: #00ff88;" id="todayChargeCost">$0.00</div>
                            </div>
                        </div>
                        <div style="flex: 1; background: rgba(255,193,7,0.05); border: 1px solid rgba(255,193,7,0.12); border-radius: 10px; padding: 10px 12px;">
                            <div style="display: flex; align-items: center; gap: 5px; margin-bottom: 8px;">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#ffc107" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg>
                                <span style="font-size: 11px; color: rgba(255,255,255,0.6); font-weight: 600;" data-i18n="todayDischarge">‰ªäÊó•ÊîæÁîµ</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: baseline;">
                                <div style="font-size: 20px; font-weight: 700; color: #ffc107;" id="todayDischargeEnergy">0.00 MWh</div>
                                <div style="font-size: 20px; font-weight: 700; color: #ffc107;" id="todayDischargeRevenue">$0.00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Âè≥‰æßÂç°ÁâáÂå∫ -->
            <div style="display: flex; flex-direction: column; width: 100%; height: 100%; overflow: visible;">
                <div class="right-panel-scroll" style="overflow: visible; padding-right:10px; height: 100%;">
                    <!-- Ëá™ÂÆö‰πâÂç°Áâá -->
                    <div class="custom-card" style="height: 100% !important; min-height: 540px; margin-bottom: 0; box-sizing: border-box;">
                        <div style="padding: 16px; position: relative; display: flex; flex-direction: column; min-height: 510px; overflow: visible; box-sizing: border-box;">
                            <!-- Ë°åÊÉÖ / ÂàÜÊûê ‰∏ãÂàíÁ∫ø Tab -->
                            <div style="display: flex; gap: 0; border-bottom: 1px solid rgba(255,255,255,0.08); margin: 0 0 16px 0;">
                                <button id="aemoTabMarket" onclick="switchAemoTab('market')" style="background:none;border:none;outline:none;cursor:pointer;padding:8px 24px;font-size:14px;font-weight:500;color:#00ff88;border-bottom:2px solid #00ff88;margin-bottom:-1px;transition:all 0.25s;" data-i18n="aemoTabMarket">Ë°åÊÉÖ</button>
                                <button id="aemoTabAnalysis" onclick="switchAemoTab('analysis')" style="background:none;border:none;outline:none;cursor:pointer;padding:8px 24px;font-size:14px;font-weight:500;color:rgba(255,255,255,0.45);border-bottom:2px solid transparent;margin-bottom:-1px;transition:all 0.25s;" data-i18n="aemoTabAnalysis">ÂàÜÊûê</button>
                            </div>

                            <!-- Market Panel -->
                            <div id="marketPanel" class="panel-content active" style="padding-left: 20px; padding-right: 20px;">
                                <!-- Price Cards -->
                                <div class="market-section">
                                    <div class="price-cards" style="display: flex; gap: 20px;">
                                        <!-- Combined card for first 4 items -->
                                        <div class="price-card" style="flex: 1; display: flex; flex-direction: column; padding: 0; overflow: hidden; min-height: 120px;">
                                            <div style="display: flex; height: 100%;">
                                                <div style="flex: 1; padding: 20px 24px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer;" onclick="updateMainChart('price')">
                                                    <div class="price-card-label" data-i18n="currentSpotPrice" style="font-size: 13px; font-weight: 500;">CURRENT SPOT PRICE</div>
                                                    <div class="price-card-label" style="font-size: 11px;">($/MWh)</div>
                                                    <div class="price-card-value" id="spotPrice" style="font-size: 28px; font-weight: 700; margin-top: 8px;">$162.73</div>
                                                </div>
                                                <div style="width: 1px; background: rgba(255, 255, 255, 0.1); margin: 16px 0;"></div>
                                                <div style="flex: 1; padding: 20px 24px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer;" onclick="updateMainChart('demand')">
                                                    <div class="price-card-label" data-i18n="currentDemand" style="font-size: 13px; font-weight: 500;">CURRENT DEMAND</div>
                                                    <div class="price-card-label" style="font-size: 11px;">(MW)</div>
                                                    <div class="price-card-value" id="currentDemand" style="font-size: 28px; font-weight: 700; margin-top: 8px;">8,344</div>
                                                </div>
                                                <div style="width: 1px; background: rgba(255, 255, 255, 0.1); margin: 16px 0;"></div>
                                                <div style="flex: 1; padding: 20px 24px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer;" onclick="updateMainChart('forecast')">
                                                    <div class="price-card-label" data-i18n="forecastPrice" style="font-size: 13px; font-weight: 500;">FORECAST PRICE</div>
                                                    <div class="price-card-label" style="font-size: 11px;">($/MWh - NEXT 30MIN)</div>
                                                    <div class="price-card-value" id="forecastPrice" style="font-size: 28px; font-weight: 700; margin-top: 8px;">$162.73</div>
                                                </div>
                                                <div style="width: 1px; background: rgba(255, 255, 255, 0.1); margin: 16px 0;"></div>
                                                <div style="flex: 1; padding: 20px 24px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer;" onclick="updateMainChart('forecastDemand')">
                                                    <div class="price-card-label" data-i18n="forecastDemand" style="font-size: 13px; font-weight: 500;">FORECAST DEMAND</div>
                                                    <div class="price-card-label" style="font-size: 11px;">(MW - NEXT 30MIN)</div>
                                                    <div class="price-card-value" id="forecastDemand" style="font-size: 28px; font-weight: 700; margin-top: 8px;">8,202</div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Demand vs Generation card -->
                                        <div class="price-card demand-gen-card" style="flex: 0 0 20%; padding: 16px 12px; display: flex; flex-direction: column; min-height: 120px;">
                                            <div style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
                                                <!-- Demand Row -->
                                                <div style="margin-bottom: 16px;">
                                                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                                                        <span style="font-size: 12px; color: rgba(255, 255, 255, 0.7);" data-i18n="demand">ÈúÄÊ±Ç</span>
                                                        <span style="font-size: 15px; font-weight: 700; color: #fff;">9,692 <span style="font-size: 11px; font-weight: 500; color: rgba(255, 255, 255, 0.7);">kWh</span></span>
                                                    </div>
                                                    <div style="height: 16px; background: transparent; border-radius: 6px; overflow: hidden;">
                                                        <div style="width: 100%; height: 100%; background: rgba(0, 255, 136, 0.5); border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                                                            <span style="font-size: 12px;">üë§</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Generation Row -->
                                                <div>
                                                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                                                        <span style="font-size: 12px; color: rgba(255, 255, 255, 0.7);" data-i18n="generation">ÂèëÁîµ</span>
                                                        <span style="font-size: 15px; font-weight: 700; color: #fff;">8,319 <span style="font-size: 11px; font-weight: 500; color: rgba(255, 255, 255, 0.7);">kWh</span></span>
                                                    </div>
                                                    <div style="height: 16px; background: transparent; border-radius: 6px; overflow: hidden; position: relative;">
                                                        <!-- Èó™ÁîµÂèëÁîµÈÉ®ÂàÜ 60% -->
                                                        <div style="width: 60%; height: 100%; background: rgba(0, 170, 255, 0.5); position: absolute; left: 0; top: 0; display: flex; align-items: center; justify-content: center;">
                                                            <span style="font-size: 12px;">‚ö°</span>
                                                        </div>
                                                        <!-- È£éÂäõÂèëÁîµÈÉ®ÂàÜ 20% -->
                                                        <div style="width: 20%; height: 100%; background: rgba(64, 224, 208, 0.5); position: absolute; left: 60%; top: 0; display: flex; align-items: center; justify-content: center;">
                                                            <span style="font-size: 12px;">üí®</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Market Chart -->
                                <div id="marketChart" style="height: 370px; width: 100%; margin-top: 40px;"></div>

                            </div>

                            <!-- Analysis Panel (AI ÂàÜÊûê tab) -->
                            <div id="analysisPanel" style="display: none; padding: 0 20px; flex-direction: column; flex: 1;">
                                <!-- AI Áä∂ÊÄÅÊ†è + È¢Ñ‰º∞Âà©Ê∂¶ÔºàÂπ∂ÊéíÔºâ -->
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div id="aiPulse" style="width: 10px; height: 10px; border-radius: 50%; background: #00ff88; box-shadow: 0 0 6px rgba(0,255,136,0.6), 0 0 14px rgba(0,255,136,0.25); animation: aiPulseAnim 2s ease-in-out infinite;"></div>
                                            <span style="font-size: 14px; font-weight: 700; color: #00ff88;" id="aiStatusLabel" data-i18n="aiAnalyzing">AI ÂàÜÊûê‰∏≠</span>
                                        </div>
                                        <div id="aiAnalysisTime" style="font-size: 11px; color: rgba(255,255,255,0.65); margin-top: 3px; padding-left: 18px;"></div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 12px; color: rgba(255,255,255,0.7);" data-i18n="aiEstProfit">È¢Ñ‰º∞Âà©Ê∂¶</div>
                                        <div style="font-size: 20px; font-weight: 700; color: #00ff88;" id="aiEstSpread"></div>
                                    </div>
                                </div>
                                <!-- Á≠ñÁï•Âç°Áâá -->
                                <div id="aiStrategyCards" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px; align-items: start;"></div>
                                <!-- Ëø∑‰Ω†‰ª∑Ê†ºËµ∞ÂäøÂõæ -->
                                <div id="aiMiniChart" style="height: 360px; margin-bottom: 10px;"></div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <!-- Á¨¨‰∏âÊéíÔºöÊîæÁîµ‰∏éËé∑Âà©ÔºàÂÖ®Â±èÂÆΩÂ∫¶Ôºâ -->
        <div style="margin-bottom: 20px; margin-top: 0;">
            <!-- Discharge & Profit Chart ÊîæÁîµ‰∏éÊî∂Áõä -->
                <div class="card" style="height:422px; min-height:422px; max-height:422px; margin-top:0; display:flex; flex-direction:column; align-items:stretch; justify-content:flex-start; padding:24px;">
                    <div class="chart-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;">
                        <div class="chart-title" style="font-size:18px; font-weight:500; color:var(--color-text);">
                            <span data-i18n="profit.charts.dischargeAndProfit">ÁîµÈáè‰∏éËé∑Âà©</span>
                            <span style="font-size:12px; font-weight:400; color:rgba(255,255,255,0.6); margin-left:8px;" data-i18n="profit.charts.profitFormula">ÔºàËé∑Âà©=È¶àÁΩëÈáè*‰ª∑Ê†ºÔºâ</span>
                        </div>
                        <div style="display:flex; align-items:center; gap:12px;">
                            <!-- Time Period Dropdown (on left) -->
                            <select id="discharge-period-select" class="period-dropdown" onchange="handleDischargePeriodChange()" style="background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.15); border-radius: 10px; padding:6px 12px; color:#fff; font-size:13px; min-width:80px; cursor:pointer; outline:none;">
                                <option value="day" data-i18n="day">Êó•</option>
                                <option value="month" data-i18n="month">Êúà</option>
                                <option value="year" data-i18n="year">Âπ¥</option>
                                <option value="cumulative" data-i18n="cumulative">Á¥ØËÆ°</option>
                            </select>
                            <!-- Date Picker (shown on right when not cumulative) -->
                            <div id="discharge-date-picker" style="display:flex; align-items:center;">
                                <input type="date" id="discharge-date-input" class="date-input" style="background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.15); border-radius: 10px; padding:6px 12px; color:#fff; font-size:13px; min-width:140px;">
                            </div>
                        </div>
                    </div>
                    <div id="powerRevenueChart" style="width:100%; height:calc(100% - 70px); min-height:0;"></div>
                </div>
            </div>
            
        </div>

        <!-- Analytics Section -->
        

        <!-- System Overview -->
        <div class="glass system-overview" style="display:none;">
            <div class="chart-header">
                <h3 class="chart-title" data-i18n="systemOverview">Á≥ªÁªüÊ¶ÇËßà</h3>
            </div>
            
            <div class="overview-stats">
                <div class="overview-item">
                    <div class="overview-label" data-i18n="totalCapacity">ÊÄªÂÆπÈáè</div>
                    <div class="overview-value">1,200 MWh</div>
                </div>
                <div class="overview-item">
                    <div class="overview-label" data-i18n="onlineDevices">Âú®Á∫øËÆæÂ§á</div>
                    <div class="overview-value" id="onlineDevices">196/200</div>
                </div>
                <div class="overview-item">
                    <div class="overview-label" data-i18n="networkStatus">ÁΩëÁªúÁä∂ÊÄÅ</div>
                    <div class="overview-value status-active" data-i18n="normal">Ê≠£Â∏∏</div>
                </div>
            </div>

            <div class="performance-chart" id="systemPerformance"></div>
            
            <div class="overview-footer">
                <div class="overview-item">
                    <div class="overview-label" data-i18n="totalGridDischarge">Á¥ØËÆ°ÊîæÁîµ‰∏äÁΩëÈáè</div>
                    <div class="overview-value" id="totalDischargeOverview">445.2 MWh</div>
                </div>
                <div class="overview-item">
                    <div class="overview-label" data-i18n="dashboard.totalRevenue">Á¥ØËÆ°Êî∂Áõä</div>
                    <div class="overview-value" id="totalRevenueOverview">$186,430</div>
                </div>
            </div>


            <!-- Stats Overview Grid -->
            <div class="metrics-grid">
                <div class="stat-overview-card">
                    <div class="stat-overview-icon">üè†</div>
                    <div class="stat-overview-label" data-i18n="dashboard.family">ÂÆ∂Â∫≠</div>
                    <div class="stat-overview-value" id="totalHomes">235</div>
                </div>
                
                <div class="stat-overview-card">
                    <div class="stat-overview-icon">üîã</div>
                    <div class="stat-overview-label" data-i18n="installedCapacity">Ë£ÖÊú∫Èáè</div>
                    <div class="stat-overview-value" id="installedCapacity">235,000KW</div>
                </div>

                <div class="stat-overview-card">
                    <div class="stat-overview-icon">‚ö°</div>
                    <div class="stat-overview-label" data-i18n="totalGridDischarge">Á¥ØËÆ°ÊîæÁîµ‰∏äÁΩëÈáè</div>
                    <div class="stat-overview-value" id="totalDischarge">234kwh</div>
                </div>

                <div class="stat-overview-card">
                    <div class="stat-overview-icon">üí∞</div>
                    <div class="stat-overview-label" data-i18n="dashboard.totalProfitLabel">Á¥ØËÆ°Ëé∑Âà©</div>
                    <div class="stat-overview-value" id="totalProfit">$12,435</div>
                </div>
            </div>
            
            <!-- Analysis Page Modules: Discharge Statistics & Price Statistics -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 32px;">
                <!-- Discharge Statistics Module -->
                <div class="card" style="padding: 24px; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="color: #fff; font-size: 18px; font-weight: 600; margin: 0 0 20px 0;">
                        <span data-i18n="dischargeStatistics">Discharge Statistics</span>
                    </h3>
                    
                    <!-- Top Stats Row -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin-bottom: 4px;">
                                <span data-i18n="outputAmount">Output</span>
                            </div>
                            <div style="display: flex; align-items: baseline; gap: 8px;">
                                <span style="color: #fff; font-size: 28px; font-weight: 700;">18.50</span>
                                <span style="color: rgba(255, 255, 255, 0.7); font-size: 14px;">kWh</span>
                                <span style="color: #00ff88; font-size: 12px; font-weight: 600;">8.0%</span>
                            </div>
                        </div>
                        <div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin-bottom: 4px;">
                                <span data-i18n="inputAmount">Input</span>
                            </div>
                            <div style="display: flex; align-items: baseline; gap: 8px;">
                                <span style="color: #fff; font-size: 28px; font-weight: 700;">20.50</span>
                                <span style="color: rgba(255, 255, 255, 0.7); font-size: 14px;">kWh</span>
                                <span style="color: #ff6b6b; font-size: 12px; font-weight: 600;">5.0%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bottom Stats Row -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div style="background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.2); border-radius: 10px; padding: 20px; text-align: center;">
                            <div style="color: #00ff88; font-size: 32px; font-weight: 700; margin-bottom: 8px;">3</div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 13px;">
                                <span data-i18n="usersExceedingTarget">Users Exceeding Target</span>
                            </div>
                        </div>
                        <div style="background: rgba(255, 107, 107, 0.1); border: 1px solid rgba(255, 107, 107, 0.2); border-radius: 10px; padding: 20px; text-align: center;">
                            <div style="color: #ff6b6b; font-size: 32px; font-weight: 700; margin-bottom: 8px;">17</div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 13px;">
                                <span data-i18n="usersNotExceedingTarget">Users Not Exceeding Target</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Price Statistics Module -->
                <div class="card" style="padding: 24px; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="color: #fff; font-size: 18px; font-weight: 600; margin: 0 0 20px 0;">
                        <span data-i18n="priceStatistics">Price Statistics</span>
                    </h3>
                    
                    <!-- Top Prices Row -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <div style="color: #fff; font-size: 28px; font-weight: 700; margin-bottom: 4px;">$185</div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin-bottom: 8px;">
                                <span data-i18n="todaysPrice">Today's Price</span>
                            </div>
                            <div style="background: rgba(0, 255, 136, 0.2); color: #00ff88; padding: 4px 8px; border-radius: 10px; font-size: 11px; font-weight: 600; display: inline-block;">
                                +5.2%
                            </div>
                        </div>
                        <div>
                            <div style="color: #fff; font-size: 28px; font-weight: 700; margin-bottom: 4px;">$152</div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin-bottom: 8px;">
                                <span data-i18n="avgDischargePrice">Avg Discharge Price</span>
                            </div>
                            <div style="background: rgba(0, 255, 136, 0.2); color: #00ff88; padding: 4px 8px; border-radius: 10px; font-size: 11px; font-weight: 600; display: inline-block;">
                                +3.8%
                            </div>
                        </div>
                    </div>
                    
                    <!-- Price Details Section -->
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <span style="background: #00ff88; color: #000; padding: 6px 12px; border-radius: 16px; font-size: 12px; font-weight: 600;">
                                <span data-i18n="sellPrice">Sell Price</span>
                            </span>
                        </div>
                        
                        <div style="margin-bottom: 8px;">
                            <span style="color: rgba(255, 255, 255, 0.6); font-size: 13px;">
                                <span data-i18n="todaysLowest">Today's Lowest</span>
                            </span>
                            <span style="color: #fff; font-size: 14px; font-weight: 600; float: right;">$120</span>
                        </div>
                        
                        <div style="margin-bottom: 8px;">
                            <span style="color: rgba(255, 255, 255, 0.6); font-size: 13px;">
                                <span data-i18n="todaysHighest">Today's Highest</span>
                            </span>
                            <span style="color: #fff; font-size: 14px; font-weight: 600; float: right;">$220</span>
                        </div>
                        
                        <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 8px;">
                            <span style="color: rgba(255, 255, 255, 0.6); font-size: 13px;">
                                <span data-i18n="sellPrice">Sell Price</span>
                            </span>
                            <span style="color: #fff; font-size: 14px; font-weight: 600; float: right;">$185</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal for operation verification -->
    <div id="confirmationModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10000; align-items: center; justify-content: center; backdrop-filter: blur(15px) saturate(1.5);">
        <div class="modal-content" style="background: linear-gradient(145deg, #1e1e2e 0%, #252535 100%); border: none; padding: 0; overflow: hidden; width: 480px; max-width: 90%; border-radius: 24px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 1px rgba(255, 255, 255, 0.1);">
            <div class="modal-header" style="padding: 32px 36px 28px; border-bottom: 1px solid rgba(255, 255, 255, 0.08); display: flex; align-items: center; justify-content: flex-start; background: rgba(255, 255, 255, 0.02);">
                <div class="modal-icon" style="width: 56px; height: 56px; background: linear-gradient(145deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.05)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; box-shadow: 0 4px 12px rgba(0, 255, 136, 0.15);">
                    <span id="confirmIcon" style="font-size: 28px;">‚ö°</span>
                </div>
                <h3 class="modal-title" id="confirmTitle" data-i18n="dashboard.confirmChargeTitle" style="margin: 0; font-size: 24px; font-weight: 700; color: #fff; letter-spacing: 0.5px;">Á°ÆËÆ§ÂÖÖÁîµÊìç‰Ωú</h3>
            </div>
            
            <div class="modal-body" style="padding: 36px;">
                <p id="confirmMessage" data-i18n="dashboard.confirmChargeMsg" style="font-size: 16px; color: rgba(255, 255, 255, 0.7); margin: 0 0 32px 0; font-weight: 400; line-height: 1.6;">ÊÇ®Á°ÆÂÆöË¶ÅÊâßË°åÂÖÖÁîµÊìç‰ΩúÂêóÔºü</p>
                
                <div class="modal-info-grid" id="confirmInfoGrid" style="display: flex; flex-direction: column; gap: 0; margin-bottom: 32px;">
                    <div style="display: flex; gap: 20px;">
                        <div class="modal-info-item" style="flex: 1; background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 16px; padding: 20px 24px; transition: all 0.3s;">
                            <div class="modal-info-label" style="color: rgba(255, 255, 255, 0.6); font-size: 14px; margin-bottom: 8px; font-weight: 400;" data-i18n="operationType">Êìç‰ΩúÁ±ªÂûã</div>
                            <div class="modal-info-value" id="confirmOperationType" style="color: #00ff88; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">ÂÖÖÁîµ</div>
                        </div>
                        <div class="modal-info-item" style="flex: 1; background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 16px; padding: 20px 24px; transition: all 0.3s;">
                            <div class="modal-info-label" style="color: rgba(255, 255, 255, 0.6); font-size: 14px; margin-bottom: 8px; font-weight: 400;">ÂèØË∞ÉÂ∫¶ËÆæÂ§á</div>
                            <div class="modal-info-value" id="confirmTargetDevices" style="color: #fff; font-size: 20px; font-weight: 600;">500‰∏™</div>
                        </div>
                    </div>
                    <div class="modal-info-item" style="display: none;">
                        <div class="modal-info-label" data-i18n="estimatedPower">È¢ÑËÆ°ÂäüÁéá</div>
                        <div class="modal-info-value" id="confirmEstimatedPower">3.0MW</div>
                    </div>
                    <div class="modal-info-item" style="display: none;">
                        <div class="modal-info-label" data-i18n="currentPrice">ÂΩìÂâçÁîµ‰ª∑</div>
                        <div class="modal-info-value" id="confirmCurrentPrice">$85/MWh</div>
                    </div>
                    <div class="modal-info-item" style="display: none;">
                        <div class="modal-info-label" data-i18n="estimatedDuration">È¢ÑËÆ°Êó∂Èó¥</div>
                        <div class="modal-info-value" id="confirmDuration">15-30ÂàÜÈíü</div>
                    </div>
                    <div class="modal-info-item" style="display: none;">
                        <div class="modal-info-label" data-i18n="estimatedProfit">È¢ÑËÆ°Ëé∑Âà©</div>
                        <div class="modal-info-value" id="confirmCostBenefit">+$178</div>
                    </div>
                </div>
                
                <div class="warning-notice" style="padding: 20px; background: linear-gradient(145deg, rgba(255, 152, 0, 0.08), rgba(255, 152, 0, 0.04)); border: 1px solid rgba(255, 152, 0, 0.15); border-radius: 16px; backdrop-filter: blur(20px) saturate(1.5);">
                    <div style="display: flex; align-items: flex-start; gap: 16px;">
                        <div style="width: 32px; height: 32px; background: rgba(255, 152, 0, 0.15); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                            <span style="font-size: 18px;">‚ö†Ô∏è</span>
                        </div>
                        <span id="warningText" data-i18n="dashboard.chargeWarning" style="color: rgba(255, 255, 255, 0.8); font-size: 14px; line-height: 1.8; flex: 1;">Â∞ÜÂºÄÂßãÂØπÊâÄÊúâËøûÊé•ËÆæÂ§áËøõË°åÂÖÖÁîµÊìç‰ΩúÔºåÊ≠§ËøáÁ®ãÂ∞ÜÊ∂àËÄóÁîµÁΩëÁîµÂäõ„ÄÇ</span>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer" style="padding: 28px 36px 32px; background: rgba(0, 0, 0, 0.2); border-top: 1px solid rgba(255, 255, 255, 0.08); display: flex; justify-content: flex-end; gap: 16px;">
                <button class="modal-btn modal-cancel-btn" onclick="closeConfirmationModal()" style="background: rgba(255, 255, 255, 0.08); color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); padding: 14px 36px; border-radius: 999px; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.3s; backdrop-filter: blur(20px) saturate(1.5); letter-spacing: 0.5px;" onmouseover="this.style.background='rgba(255, 255, 255, 0.12)'; this.style.borderColor='rgba(255, 255, 255, 0.2)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.08)'; this.style.borderColor='rgba(255, 255, 255, 0.1)'" data-i18n="cancel">ÂèñÊ∂à</button>
                <button class="modal-btn modal-confirm-btn" onclick="executeConfirmedOperation()" id="confirmExecuteBtn" style="background: linear-gradient(135deg, #00ff88, #00dd77); color: #000; padding: 14px 36px; border-radius: 999px; font-size: 15px; font-weight: 700; cursor: pointer; transition: all 0.3s; border: none; box-shadow: 0 4px 16px rgba(0, 255, 136, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3); letter-spacing: 0.5px;" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(0, 255, 136, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 16px rgba(0, 255, 136, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)'">Á°ÆËÆ§ÂÖÖÁîµ</button>
            </div>
        </div>
    </div>

    <!-- Progress Dialog Modal -->
    <div class="progress-dialog" id="progressDialog" style="display: none; position: fixed; top: calc(50% + 60px); left: 50%; transform: translate(-50%, -50%); width: 450px; background: rgba(255, 255, 255, 0.12); backdrop-filter: blur(30px) saturate(1.5); -webkit-backdrop-filter: blur(30px) saturate(1.5); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); cursor: move; z-index: 100; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);">
            
            <!-- Header -->
            <div class="progress-header" style="padding: 24px 32px 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.08); display: flex; align-items: center; justify-content: space-between; background: rgba(255, 255, 255, 0.02); border-radius: 16px 16px 0 0;">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(145deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.05)); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0, 255, 136, 0.15);">
                        <span id="progressIcon" style="font-size: 24px;">‚ö°</span>
                    </div>
                    <div>
                        <h3 id="progressTitle" style="margin: 0; font-size: 20px; font-weight: 700; color: #fff;" data-i18n="chargingProgress">ÂÖÖÁîµËøõÂ∫¶</h3>
                        <p id="progressSubtitle" style="margin: 4px 0 0 0; font-size: 14px; color: rgba(255, 255, 255, 0.6);" data-i18n="operationInProgress">Ê≠£Âú®ÊâßË°åÊìç‰Ωú...</p>
                    </div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button id="progressMinimizeBtn" onclick="minimizeProgressDialog()" style="background: rgba(255, 255, 255, 0.1); border: none; border-radius: 10px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: rgba(255, 255, 255, 0.7); transition: all 0.3s;" onmouseover="this.style.background='rgba(255, 255, 255, 0.15)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'">
                        <span style="font-size: 14px;">‚àí</span>
                    </button>
                </div>
            </div>
            
            <!-- Body -->
            <div class="progress-body" style="padding: 32px;">
                <!-- Progress Info -->
                <div style="display: flex; justify-content: space-between; margin-bottom: 32px;">
                    <div style="text-align: center;">
                        <div id="progressCommandsSent" style="font-size: 32px; font-weight: 700; color: #00ff88; margin-bottom: 4px;">500</div>
                        <div style="font-size: 14px; color: rgba(255, 255, 255, 0.6);" data-i18n="sentDevices">‰∏ãÂèëËÆæÂ§á</div>
                    </div>
                    <div style="text-align: center;">
                        <div id="progressOperationType" style="font-size: 32px; font-weight: 700; color: #00ff88; margin-bottom: 4px;" data-i18n="discharge">ÊîæÁîµ</div>
                        <div style="font-size: 14px; color: rgba(255, 255, 255, 0.6);" data-i18n="type">Á±ªÂûã</div>
                    </div>
                </div>
                
                <!-- Steps -->
                <div class="progress-steps">
                    <!-- Step 1 -->
                    <div class="progress-step" id="progressStep1" style="padding: 20px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="font-size: 16px; font-weight: 600; color: #fff;" data-i18n="readDeviceSettings">1. ËØªÂèñËÆæÂ§áËÆæÁΩÆ‰ø°ÊÅØ</div>
                                <div id="step1Status" style="padding: 4px 12px; background: rgba(255, 193, 7, 0.2); color: #ffc107; border-radius: 10px; font-size: 12px; font-weight: 600;" data-i18n="reading">ËØªÂèñ‰∏≠</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div id="step1Progress" style="font-size: 14px; color: rgba(255, 255, 255, 0.7);">1/100</div>
                        </div>
                        <!-- Progress Bar -->
                        <div style="width: 100%; height: 4px; background: rgba(255, 255, 255, 0.1); border-radius: 6px; overflow: hidden;">
                            <div id="step1ProgressBar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #00ff88, #00cc6a); border-radius: 6px; transition: width 0.3s ease;"></div>
                        </div>
                    </div>
                    
                    <!-- Step 2 -->
                    <div class="progress-step" id="progressStep2" style="padding: 20px 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="font-size: 16px; font-weight: 600; color: #fff;" data-i18n="modifyDeviceSettings">2. ‰øÆÊîπËÆæÂ§áËÆæÁΩÆ‰ø°ÊÅØ</div>
                                <div id="step2Status" style="padding: 4px 12px; background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.5); border-radius: 10px; font-size: 12px; font-weight: 600;" data-i18n="waiting">Á≠âÂæÖ‰∏≠</div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div id="step2Progress" style="font-size: 14px; color: rgba(255, 255, 255, 0.7);">1/100</div>
                        </div>
                        <!-- Progress Bar -->
                        <div style="width: 100%; height: 4px; background: rgba(255, 255, 255, 0.1); border-radius: 6px; overflow: hidden;">
                            <div id="step2ProgressBar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #00ff88, #00cc6a); border-radius: 6px; transition: width 0.3s ease;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
    <!-- Floating Ball Container -->
    <div id="progressFloatingContainer" class="progress-floating-container" style="display: none; position: fixed; right: 20px; top: 50%; transform: translateY(-50%); z-index: 1000;">
        <!-- Toggle button -->
        <div id="progressToggleBtn" onclick="toggleProgressBalls(event)" style="width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(145deg, #1e1e2e, #2a2a3a); border: 2px solid #00ff88; display: flex; align-items: center; justify-content: center; cursor: move; margin-bottom: 12px; transition: all 0.3s; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'" data-i18n-title="dragToMoveClickToToggle">
            <span id="progressToggleIcon" style="font-size: 16px; color: #00ff88; font-weight: bold;">‚ñº</span>
        </div>
        <!-- Balls container -->
        <div id="progressBallsContainer" style="transition: all 0.3s ease;">
            <!-- Floating balls will be generated here -->
        </div>
    </div>

    <!-- Modal for operation result -->
    <div id="operationModal" class="modal" style="display: none; z-index: 2147483650; position: fixed;">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            
            <div class="modal-header" style="text-align: left; justify-content: flex-start;">
                <div class="modal-icon success">
                    <span id="modalIcon">‚úì</span>
                </div>
                <div style="margin-left: 12px;">
                    <h3 class="modal-title" id="modalTitle" data-i18n="commandSentSuccess">Êåá‰ª§‰∏ãÂèëÊàêÂäü</h3>
                </div>
            </div>
            
            <div class="modal-body">
                <p id="modalMessage" data-i18n="systemExecuting">Á≥ªÁªüÊ≠£Âú®ÊâßË°åÊÇ®ÁöÑÊìç‰ΩúÊåá‰ª§...</p>
                
                <div class="modal-info-grid">
                    <div class="modal-info-item">
                        <div class="modal-info-label" data-i18n="operationType">Êìç‰ΩúÁ±ªÂûã</div>
                        <div class="modal-info-value" id="operationType">ÂÖÖÁîµ</div>
                    </div>
                    <div class="modal-info-item">
                        <div class="modal-info-label">ÂèØË∞ÉÂ∫¶ËÆæÂ§á</div>
                        <div class="modal-info-value" id="targetDevices">500‰∏™</div>
                    </div>
                </div>
                
                <div class="status-summary" id="statusSummary" style="display: none;">
                    <div class="status-summary-title" data-i18n="deviceResponseStatistics">ËÆæÂ§áÂìçÂ∫îÁªüËÆ°</div>
                    <div class="status-stats">
                        <div class="status-stat">
                            <div class="status-stat-value" id="devicesDispatched">500</div>
                            <div class="status-stat-label" data-i18n="commandsSent">‰∏ãÂèëËÆæÂ§á</div>
                        </div>
                        <div class="status-stat">
                            <div class="status-stat-value" id="successRate">89%</div>
                            <div class="status-stat-label" data-i18n="successRate">ÊàêÂäüÁéá</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="modal-btn modal-btn-primary" onclick="openOperationDrawer()" style="width: 120px; height: 36px; font-size: 14px; padding: 0 16px;">
                    <span data-i18n="viewDetails">Êü•ÁúãËØ¶ÊÉÖ</span>
                </button>
                <button class="modal-btn modal-btn-secondary" onclick="closeOperationResultModal()" style="width: 80px; height: 36px; font-size: 14px; padding: 0 12px; margin-left: 10px;" data-i18n="close">ÂÖ≥Èó≠</button>
            </div>
        </div>
    </div>

    <!-- Operation Details Panel -->
    <div class="details-panel" id="operationDetailsPanel" style="display: none;">
        <div class="details-panel-header">
            <h3 data-i18n="operationDetails">Operation Details</h3>
            <button class="details-close-btn" onclick="closeDetailsPanel()">√ó</button>
        </div>
        <div class="details-content">
            <div class="details-section">
                <h4 data-i18n="basicInfo">Basic Information</h4>
                <div class="details-grid">
                    <div class="details-item">
                        <span class="details-label" data-i18n="operationType">Operation Type:</span>
                        <span class="details-value" id="detailsOperationType">Charge</span>
                    </div>
                    <div class="details-item">
                        <span class="details-label" data-i18n="targetDevices">Target Devices:</span>
                        <span class="details-value" id="detailsTargetDevices">500 <span data-i18n="devices">ËÆæÂ§á</span></span>
                    </div>
                    <div class="details-item">
                        <span class="details-label" data-i18n="estimatedProfit">Estimated Profit:</span>
                        <span class="details-value" id="detailsEstimatedProfit"><span data-i18n="estimatedProfitValue">+$340</span></span>
                    </div>
                    <div class="details-item">
                        <span class="details-label" data-i18n="operationTime">Operation Time:</span>
                        <span class="details-value" id="detailsOperationTime">2024-06-26 14:30:00</span>
                    </div>
                </div>
            </div>
            
            <div class="details-section">
                <h4 data-i18n="executionStatus">Execution Status</h4>
                <div class="status-overview">
                    <div class="status-item">
                        <div class="status-number" id="detailsDispatched">500</div>
                        <div class="status-label" data-i18n="devicesDispatched">Commands Sent</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Device Status Modal -->
    <div class="device-status-drawer" id="deviceStatusDrawer">
        <div class="drawer-overlay" onclick="closeDeviceStatusDrawer()"></div>
        <div class="drawer-content">
            <div class="drawer-header">
                <h3 style="margin: 0; color: #fff; font-size: 20px;" data-i18n="deviceResponseStatistics">ËÆæÂ§áÂìçÂ∫îÁªüËÆ°</h3>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <button class="drawer-export-btn" onclick="exportDrawerData()" style="background: linear-gradient(135deg, #1e7fff, #0d5dd8); color: #fff; border: none; padding: 8px 20px; border-radius: 16px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 6px;" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 12px rgba(30, 127, 255, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        <span>üì•</span>
                        <span data-i18n="export">ÂØºÂá∫</span>
                    </button>
                    <button class="drawer-close-btn" onclick="closeDeviceStatusDrawer()">√ó</button>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="drawer-tabs">
                <button class="drawer-tab active" data-tab="success" onclick="switchDeviceTab('success')">
                    <span data-i18n="success">‰∏ãÂèëÊàêÂäü</span>
                    <span class="drawer-tab-count" id="tabCountSuccess">0</span>
                </button>
                <button class="drawer-tab" data-tab="executing" onclick="switchDeviceTab('executing')">
                    <span data-i18n="executing">ÊâßË°å‰∏≠</span>
                    <span class="drawer-tab-count" id="tabCountExecuting">0</span>
                </button>
                <button class="drawer-tab" data-tab="failed" onclick="switchDeviceTab('failed')">
                    <span data-i18n="failed">‰∏ãÂèëÂ§±Ë¥•</span>
                    <span class="drawer-tab-count" id="tabCountFailed">0</span>
                </button>
            </div>

            <div class="drawer-body">
                <!-- Device Table -->
                <div class="drawer-table-container">
                    <table class="drawer-table">
                        <thead id="drawerTableHead">
                            <tr>
                                <th data-i18n="nmi">NMI</th>
                                <th data-i18n="failureCount">Â§±Ë¥•Ê¨°Êï∞</th>
                                <th data-i18n="status">Áä∂ÊÄÅ</th>
                            </tr>
                        </thead>
                        <tbody id="drawerTableBody">
                            <!-- Device rows will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Auto Settings Panel -->
    <div class="auto-settings-panel" id="autoSettingsPanel" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10003; backdrop-filter: blur(15px) saturate(1.5);">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 500px; background: var(--color-bg-card); border-radius: 16px; padding: 24px; border: 1px solid var(--color-border); box-shadow: 0 20px 40px rgba(0,0,0,0.3);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0; color: #fff; font-size: 18px;" data-i18n="autoSettings">Êô∫ËÉΩÊâòÁÆ°ËÆæÁΩÆ</h3>
                <button onclick="closeAutoSettings()" style="background: none; border: none; color: rgba(255,255,255,0.7); font-size: 24px; cursor: pointer; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s;">√ó</button>
            </div>
            
            <!-- Auto Mode Type Selection -->
            <div style="margin-bottom: 20px;">
                <label style="display: block; color: rgba(255,255,255,0.8); font-size: 14px; margin-bottom: 8px;" data-i18n="autoModeType">Êô∫ËÉΩÊâòÁÆ°Á±ªÂûã</label>
                <div style="display: flex; gap: 8px;">
                    <button id="autoChargeBtn" class="auto-type-btn active" onclick="selectAutoType('charge')" style="flex: 1; padding: 12px; border: none; border-radius: 10px; background: #4CD964; color: #000; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        <span data-i18n="autoCharge">Êô∫ËÉΩÂÖÖÁîµ</span>
                    </button>
                    <button id="autoDischargeBtn" class="auto-type-btn" onclick="selectAutoType('discharge')" style="flex: 1; padding: 12px; border: none; border-radius: 10px; background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); font-weight: 500; cursor: pointer; transition: all 0.3s;">
                        <span data-i18n="autoDischarge">Êô∫ËÉΩÊîæÁîµ</span>
                    </button>
                </div>
            </div>

            <!-- ÂÖÖÁîµÊ®°ÂºèÈÖçÁΩÆ(Êñ∞ÁöÑÂç°ÁâáÂºèËÆæËÆ°) -->
            <div id="chargeConfigSection" style="display: block;">
                <!-- ËØ¥ÊòéÊñáÂ≠ó -->
                <div style="margin-bottom: 12px; padding: 10px; background: rgba(76,217,100,0.08); border-left: 3px solid #4CD964; border-radius: 10px;">
                    <div style="color: rgba(255,255,255,0.9); font-size: 12px; line-height: 1.5;">
                        üí° <span data-i18n="chargeStrategyTip">‰∏∫‰∏çÂêåÊó∂Èó¥ÊÆµËÆæÁΩÆ‰∏çÂêåÁöÑ‰ª∑Ê†ºÈó®ÊßõÔºåÁ≥ªÁªüÂ∞ÜÂêåÊó∂ÁõëÊµãÊâÄÊúâÊó∂Èó¥ÊÆµ</span>
                    </div>
                </div>

                <!-- Ê∑ªÂä†Êó∂Èó¥ÊÆµÊåâÈíÆ -->
                <div style="margin-bottom: 16px;">
                    <button onclick="addChargePlan()" style="width: 100%; padding: 12px; border: 2px dashed rgba(76,217,100,0.4); border-radius: 10px; background: rgba(76,217,100,0.05); color: #4CD964; font-weight: 500; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <span style="font-size: 20px; line-height: 1;">+</span>
                        <span data-i18n="addTimeSlot">Ê∑ªÂä†Êó∂Èó¥ÊÆµ</span>
                    </button>
                </div>

                <!-- Êó∂Èó¥ÊÆµÂàóË°®ÂÆπÂô® -->
                <div id="chargePlansContainer" style="max-height: 300px; overflow-y: auto; margin-bottom: 20px;">
                    <!-- Âç°ÁâáÂ∞ÜÁî±JSÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>

            <!-- ÊîæÁîµÊ®°ÂºèÈÖçÁΩÆ(Êñ∞ÁöÑÂç°ÁâáÂºèËÆæËÆ°) -->
            <div id="dischargeConfigSection" style="display: none;">
                <!-- ËØ¥ÊòéÊñáÂ≠ó -->
                <div style="margin-bottom: 12px; padding: 10px; background: rgba(255,193,7,0.08); border-left: 3px solid #FFC107; border-radius: 10px;">
                    <div style="color: rgba(255,255,255,0.9); font-size: 12px; line-height: 1.5;">
                        üí° <span data-i18n="dischargeStrategyTip">‰∏∫‰∏çÂêåÊó∂Èó¥ÊÆµËÆæÁΩÆ‰∏çÂêåÁöÑ‰ª∑Ê†ºÈó®ÊßõÔºåÁ≥ªÁªüÂ∞ÜÂêåÊó∂ÁõëÊµãÊâÄÊúâÊó∂Èó¥ÊÆµ</span>
                    </div>
                </div>

                <!-- Ê∑ªÂä†Êó∂Èó¥ÊÆµÊåâÈíÆ -->
                <div style="margin-bottom: 16px;">
                    <button onclick="addDischargePlan()" style="width: 100%; padding: 12px; border: 2px dashed rgba(255,193,7,0.4); border-radius: 10px; background: rgba(255,193,7,0.05); color: #FFC107; font-weight: 500; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <span style="font-size: 20px; line-height: 1;">+</span>
                        <span data-i18n="addTimeSlot">Ê∑ªÂä†Êó∂Èó¥ÊÆµ</span>
                    </button>
                </div>

                <!-- Êó∂Èó¥ÊÆµÂàóË°®ÂÆπÂô® -->
                <div id="dischargePlansContainer" style="max-height: 300px; overflow-y: auto; margin-bottom: 20px;">
                    <!-- Âç°ÁâáÂ∞ÜÁî±JSÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>

            <!-- Battery Level Condition -->
            <div style="margin-bottom: 24px;">
                <label style="display: block; color: rgba(255,255,255,0.8); font-size: 14px; margin-bottom: 8px;" data-i18n="batteryCondition">ÁîµÈáèÊù°‰ª∂</label>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <select id="autoBatteryOperator" style="padding: 10px; color: #fff; font-size: 14px;">
                        <option value="less" data-i18n="lessThan">‰Ωé‰∫é</option>
                        <option value="greater" data-i18n="greaterThan">È´ò‰∫é</option>
                        <option value="between" data-i18n="between">‰ªã‰∫é</option>
                    </select>
                    <input type="number" id="autoBatteryValue" value="20" min="0" max="100" style="flex: 1; padding: 10px; color: #fff; font-size: 14px;">
                    <input type="number" id="autoBatteryValue2" value="80" min="0" max="100" style="flex: 1; padding: 10px; color: #fff; font-size: 14px; display: none;">
                    <span style="color: rgba(255,255,255,0.7);">%</span>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 12px;">
                <button onclick="closeAutoSettings()" style="flex: 1; padding: 12px; border: 1px solid rgba(255,255,255,0.2); border-radius: 10px; background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); font-weight: 500; cursor: pointer; transition: all 0.3s;">
                    <span data-i18n="cancel">ÂèñÊ∂à</span>
                </button>
                <button onclick="saveAutoSettings()" style="flex: 1; padding: 12px; border: none; border-radius: 10px; background: var(--color-primary); color: #000; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                    <span data-i18n="saveSettings">‰øùÂ≠òËÆæÁΩÆ</span>
                </button>
            </div>
        </div>
    </div>

    
    
    <!-- Device Command Modal -->
    <div id="deviceCommandModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeDeviceCommandModal()"></div>
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title" data-i18n="deviceCommand">ËÆæÂ§áÊåá‰ª§</h3>
                <button class="modal-close" onclick="closeDeviceCommandModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="command-info">
                    <div class="info-row">
                        <label data-i18n="operationType">Êìç‰ΩúÁ±ªÂûã</label>
                        <span id="commandOperationType" class="operation-type"></span>
                    </div>
                    <div class="info-row">
                        <label data-i18n="targetDevices">ÁõÆÊ†áËÆæÂ§á</label>
                        <span id="commandTargetDevices">235 <span data-i18n="devices">ËÆæÂ§á</span></span>
                    </div>
                    <div class="info-row">
                        <label data-i18n="executionTime">È¢ÑËÆ°ÊâßË°åÊó∂Èó¥</label>
                        <span id="commandExecutionTime"><span data-i18n="immediately">Á´ãÂç≥</span></span>
                    </div>
                    <div class="info-row" id="estimatedRevenueRow" style="display: none;">
                        <label data-i18n="estimatedProfit">È¢ÑËÆ°Ëé∑Âà©</label>
                        <span id="commandEstimatedRevenue" style="color: #00ff88; font-weight: 600;"><span data-i18n="estimatedProfitValue">+$340</span></span>
                    </div>
                </div>
                <div class="warning-message">
                    <span data-i18n="operationWarning">Ê≠§Êìç‰ΩúÂ∞ÜÂΩ±ÂìçÊâÄÊúâÈÄâ‰∏≠ÁöÑËÆæÂ§áÔºåËØ∑Á°ÆËÆ§ÂêéÁªßÁª≠„ÄÇ</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDeviceCommandModal()" data-i18n="cancel">ÂèñÊ∂à</button>
                <button class="btn btn-primary" id="confirmCommandBtn" onclick="executeDeviceCommand()" data-i18n="confirmExecute">Á°ÆËÆ§ÊâßË°å</button>
            </div>
        </div>
    </div>
    
    <!-- Operation Result Modal (shown after charge/discharge command) -->
    <div id="operationResultModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10001;">
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(15px) saturate(1.5);" onclick="closeOperationResultModal()"></div>
        <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1a1f2e; border-radius: 16px; border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5); max-width: 600px; width: 90vw; overflow: hidden;">
            <div class="modal-header" style="padding: 24px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: space-between;">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: rgba(0, 255, 136, 0.2); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 24px;">üìä</span>
                    </div>
                    <h3 style="margin: 0; font-size: 20px; font-weight: 600; color: #fff;" data-i18n="deviceResponseStatisticsTitle">ËÆæÂ§áÂìçÂ∫îÁªüËÆ°</h3>
                </div>
                <button style="background: none; border: none; font-size: 24px; color: rgba(255, 255, 255, 0.6); cursor: pointer; padding: 0; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%;" onclick="closeOperationResultModal()" onmouseover="this.style.background='rgba(255, 255, 255, 0.1)'; this.style.color='#fff';" onmouseout="this.style.background='none'; this.style.color='rgba(255, 255, 255, 0.6)';">√ó</button>
            </div>
            <div style="padding: 24px;">
                <p id="operationResultMessage" style="color: rgba(255, 255, 255, 0.8); margin-bottom: 24px; font-size: 14px;"></p>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 16px; text-align: center;">
                        <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 8px;" data-i18n="operationType">Êìç‰ΩúÁ±ªÂûã</div>
                        <div id="resultOperationType" style="font-size: 16px; font-weight: 600;"></div>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 16px; text-align: center;">
                        <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 8px;" data-i18n="targetDevices">ÁõÆÊ†áËÆæÂ§á</div>
                        <div id="resultTargetDevices" style="font-size: 16px; font-weight: 600; color: #fff;">500</div>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 16px; text-align: center;">
                        <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-bottom: 8px;" data-i18n="estimatedDuration">È¢ÑËÆ°Êó∂Èïø</div>
                        <div style="font-size: 16px; font-weight: 600; color: #fff;">15-30 <span data-i18n="minutes">ÂàÜÈíü</span></div>
                    </div>
                </div>
                
                <div style="background: rgba(0, 255, 136, 0.1); border-radius: 16px; padding: 24px;">
                    <h4 style="color: #00ff88; margin: 0 0 20px 0; text-align: center; font-size: 16px;" data-i18n="deviceResponseStatistics">Device Response Statistics</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                        <div style="text-align: center;">
                            <div style="font-size: 36px; font-weight: 700; color: #00ff88;">500</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 14px;" data-i18n="commandsSent">‰∏ãÂèëËÆæÂ§á</div>
                        </div>
                        <div style="text-align: center;">
                            <div id="successRate" style="font-size: 36px; font-weight: 700; color: #00ff88;">89%</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 14px;" data-i18n="successRate">Success Rate</div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="padding: 32px 24px; min-height: 100px; display: flex; justify-content: space-between; align-items: center; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                <button style="background: rgba(255, 255, 255, 0.1); color: #fff; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 10px; padding: 8px 16px; font-size: 14px; cursor: pointer; transition: all 0.3s;" onclick="closeOperationResultModal()" onmouseover="this.style.background='rgba(255, 255, 255, 0.15)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.1)'" data-i18n="close">ÂÖ≥Èó≠</button>
                <button style="background: #00ff88; color: #000; border: none; border-radius: 10px; padding: 8px 24px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onclick="viewDetailsFromResult()" onmouseover="this.style.background='#00dd77'" onmouseout="this.style.background='#00ff88'">
                    <span data-i18n="viewDetails">Êü•ÁúãËØ¶ÊÉÖ</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Device Response Statistics Modal -->
    <div id="deviceResponseModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10002; align-items: center; justify-content: center; backdrop-filter: blur(15px) saturate(1.5);">
        <div class="modal-content" style="background: linear-gradient(145deg, #1e1e2e 0%, #252535 100%); border: none; padding: 0; overflow: hidden; width: 480px; max-width: 90%; border-radius: 24px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 1px rgba(255, 255, 255, 0.1);">
            <div class="modal-header" style="padding: 28px 32px; border-bottom: 1px solid rgba(255, 255, 255, 0.08); display: flex; align-items: center; justify-content: flex-start; background: rgba(255, 255, 255, 0.02);">
                <div class="modal-icon" id="responseModalIcon" style="width: 48px; height: 48px; background: linear-gradient(145deg, rgba(0, 255, 136, 0.15), rgba(0, 255, 136, 0.05)); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 16px; box-shadow: 0 4px 12px rgba(0, 255, 136, 0.15);">
                    <span id="modalIcon" style="font-size: 24px;">üìä</span>
                </div>
                <h3 class="modal-title" style="margin: 0; font-size: 20px; font-weight: 700; color: #fff; letter-spacing: 0.3px;" data-i18n="deviceResponseStatistics">ËÆæÂ§áÂìçÂ∫îÁªüËÆ°</h3>
            </div>
            
            <div class="modal-body" style="padding: 32px;">
                <p class="modal-message" style="color: rgba(255, 255, 255, 0.7); margin: 0 0 12px 0; font-size: 15px; font-weight: 400; line-height: 1.5; text-align: left;" id="operationCompleteMessage">Êìç‰ΩúÂÆåÊàêÔºå‰ª•‰∏ãÊòØËÆæÂ§áÂìçÂ∫îÁªüËÆ°Êä•ÂëäÔºö</p>

                <!-- Êìç‰ΩúÁ±ªÂûãÂíåÂΩ±ÂìçËÆæÂ§á‰ø°ÊÅØ -->
                <div class="modal-info-grid" style="display: flex; flex-direction: column; gap: 0; margin-bottom: 20px;">
                    <div style="display: flex; gap: 16px;">
                        <div class="modal-info-item" style="flex: 1; background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 10px; padding: 16px 20px; transition: all 0.3s;">
                            <div class="modal-info-label" style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin-bottom: 6px; font-weight: 400;" data-i18n="operationType">Êìç‰ΩúÁ±ªÂûã</div>
                            <div class="modal-info-value" id="operationTypeDisplay" style="color: #00ff88; font-size: 18px; font-weight: 600; letter-spacing: 0.3px;">ÂÖÖÁîµ</div>
                        </div>
                        <div class="modal-info-item" style="flex: 1; background: rgba(255, 255, 255, 0.04); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 10px; padding: 16px 20px; transition: all 0.3s;">
                            <div class="modal-info-label" style="color: rgba(255, 255, 255, 0.6); font-size: 13px; margin-bottom: 6px; font-weight: 400;">ÂèØË∞ÉÂ∫¶ËÆæÂ§á</div>
                            <div class="modal-info-value" id="targetDevicesDisplay" style="color: #fff; font-size: 18px; font-weight: 600;">500‰∏™</div>
                        </div>
                    </div>
                </div>

                <p style="color: rgba(255, 255, 255, 0.5); margin: 0 0 20px 0; font-size: 13px; font-weight: 400; line-height: 1.4; text-align: left;"><span data-i18n="dashboard.clickToViewDetails">üí° ÁÇπÂáª‰∏ãÊñπÊï∞Â≠óÊü•ÁúãËÆæÂ§áËØ¶ÊÉÖ</span></p>

                <!-- ËÆæÂ§áÁä∂ÊÄÅÁªüËÆ° - ÂèØÁÇπÂáª -->
                <div class="status-summary" style="background: linear-gradient(145deg, rgba(0, 255, 136, 0.08), rgba(0, 255, 136, 0.04)); border: 1px solid rgba(0, 255, 136, 0.15); border-radius: 10px; padding: 20px; backdrop-filter: blur(20px) saturate(1.5);">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                        <!-- ‰∏ãÂèëÊàêÂäü -->
                        <div onclick="openDeviceStatusDrawerFromModal('success')" style="text-align: center; cursor: pointer; padding: 12px; border-radius: 10px; transition: all 0.3s; background: rgba(255, 255, 255, 0.03);" onmouseover="this.style.background='rgba(255, 255, 255, 0.08)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.03)'; this.style.transform='translateY(0)'">
                            <div id="modalSuccessCount" style="font-size: 36px; font-weight: 700; color: #00ff88; line-height: 1;">450</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 13px; margin-top: 8px; font-weight: 500;" data-i18n="success">‰∏ãÂèëÊàêÂäü</div>
                        </div>

                        <!-- ÊâßË°å‰∏≠ -->
                        <div onclick="openDeviceStatusDrawerFromModal('executing')" style="text-align: center; cursor: pointer; padding: 12px; border-radius: 10px; transition: all 0.3s; background: rgba(255, 255, 255, 0.03);" onmouseover="this.style.background='rgba(255, 255, 255, 0.08)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.03)'; this.style.transform='translateY(0)'">
                            <div id="modalExecutingCount" style="font-size: 36px; font-weight: 700; color: #1e7fff; line-height: 1;">0</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 13px; margin-top: 8px; font-weight: 500;" data-i18n="executing">ÊâßË°å‰∏≠</div>
                        </div>

                        <!-- ‰∏ãÂèëÂ§±Ë¥• -->
                        <div onclick="openDeviceStatusDrawerFromModal('failed')" style="text-align: center; cursor: pointer; padding: 12px; border-radius: 10px; transition: all 0.3s; background: rgba(255, 255, 255, 0.03);" onmouseover="this.style.background='rgba(255, 255, 255, 0.08)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.03)'; this.style.transform='translateY(0)'">
                            <div id="modalFailedCount" style="font-size: 36px; font-weight: 700; color: #ff6b6b; line-height: 1;">50</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 13px; margin-top: 8px; font-weight: 500;" data-i18n="failed">‰∏ãÂèëÂ§±Ë¥•</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer" style="padding: 20px 28px 28px; display: flex; justify-content: center; gap: 16px;">
                <button class="modal-btn modal-export-btn" onclick="openDeviceStatusDrawerFromModal('success')" style="background: linear-gradient(135deg, #1e7fff, #0d5dd8); color: #fff; border: none; padding: 12px 32px; border-radius: 999px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s; min-width: 120px; box-shadow: 0 2px 8px rgba(30, 127, 255, 0.3);" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 12px rgba(30, 127, 255, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(30, 127, 255, 0.3)'">
                    <span data-i18n="viewDetails">Êü•ÁúãËØ¶ÊÉÖ</span>
                </button>
                <button class="modal-btn modal-cancel-btn" onclick="closeDeviceResponseModal()" style="background: linear-gradient(135deg, #00ff88, #00dd77); color: #000; border: none; padding: 12px 32px; border-radius: 999px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s; min-width: 120px; box-shadow: 0 2px 8px rgba(0, 255, 136, 0.3);" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 12px rgba(0, 255, 136, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0, 255, 136, 0.3)'" data-i18n="close">ÂÖ≥Èó≠</button>
            </div>
        </div>
    </div>
    
    
    <style>
        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px) saturate(1.5);
        }
        
        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px) saturate(1.5);
        }
        
        .modal-content {
            position: relative;
            background: #1a1f2e;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }
        
        .modal-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #fff;
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 28px;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        
        .modal-body {
            padding: 24px;
        }
        
        .command-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .info-row label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }
        
        .info-row span {
            color: #fff;
            font-size: 16px;
            font-weight: 500;
        }
        
        .operation-type {
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 14px;
        }
        
        .operation-type.charge {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }
        
        .operation-type.discharge {
            background: rgba(255, 165, 0, 0.2);
            color: #ffa500;
        }
        
        .operation-type.stop {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }
        
        .warning-message {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 10px;
            padding: 16px;
            color: #ffc107;
            font-size: 14px;
            line-height: 1.5;
        }
        
        
        .btn {
            padding: 10px 24px;
            border-radius: 22px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            min-width: 100px;
            height: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00D67A, #00FF88);
            color: #000;
        }
        
        .btn-primary:hover {
            box-shadow: 0 4px 12px rgba(0, 255, 136, 0.3);
        }
        
        /* Device Response Modal Styles */
        .modal-tabs {
            display: flex;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.02);
        }
        
        .modal-tab {
            flex: 1;
            padding: 16px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .modal-tab.active {
            color: #fff;
        }
        
        .modal-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: #00ff88;
        }
        
        .tab-content {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .station-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 16px;
        }
        
        .station-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .station-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .station-name {
            font-size: 16px;
            font-weight: 600;
            color: #fff;
        }
        
        .station-status {
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
        }
        
        .status-active {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
        }
        
        .detail-label {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .detail-value {
            color: #fff;
        }
        
        .timeline {
            position: relative;
            padding-left: 40px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 16px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .timeline-item {
            position: relative;
            padding-bottom: 32px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -28px;
            top: 4px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #1a1f2e;
        }
        
        .timeline-item.completed::before {
            background: #00ff88;
        }
        
        .timeline-item.active::before {
            background: #ffa500;
            box-shadow: 0 0 0 4px rgba(255, 165, 0, 0.2);
        }
        
        .timeline-time {
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            margin-bottom: 8px;
        }
        
        .timeline-title {
            color: #fff;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 4px;
        }
        
        .timeline-desc {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }
        
        /* Result Modal Styles */
        .result-info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
        }
        
        .result-info-item {
            text-align: center;
        }
        
        .result-info-item label {
            display: block;
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .result-info-item span {
            color: #fff;
            font-size: 16px;
            font-weight: 500;
        }
    </style>
    
    
    
    <style>
        /* ÊúÄÁªàÂº∫Âà∂Ë¶ÜÁõñ - Á°Æ‰øùÊäΩÂ±âÂú®ÁªùÂØπÊúÄÈ°∂Â±Ç */
        #homeOperationDrawer,
        #homeOperationDrawer .drawer-overlay,
        #homeOperationDrawer .drawer-container,
        #deviceResponseDrawerComponent,
        #deviceResponseDrawerComponent .drawer-overlay,
        #deviceResponseDrawerComponent .drawer-container {
            z-index: 2147483647 !important;
            position: fixed !important;
        }
        
        .drawer-overlay {
            z-index: 2147483647 !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            pointer-events: auto !important;
        }
        
        .drawer-overlay.show {
            z-index: 2147483647 !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            pointer-events: auto !important;
        }
        
        .drawer-overlay.show .drawer-container {
            z-index: 2147483647 !important;
            position: fixed !important;
            top: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            pointer-events: auto !important;
        }
        
        /* Èôç‰ΩéÈ¶ñÈ°µÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑz-index */
        .hero-section, .hero-section * {
            z-index: 1 !important;
        }
        
        .dashboard-content, .dashboard-content * {
            z-index: 1 !important;
        }
        
        .panel-content {
            z-index: 1 !important;
        }
        
        .container, .container * {
            z-index: 1 !important;
        }
        
        /* Á°Æ‰øùÊìç‰ΩúÁªüËÆ°Ê®°ÊÄÅÊ°Ü‰πüÂú®ÂêàÁêÜÂ±ÇÁ∫ß */
        #operationModal {
            z-index: 9999 !important;
        }
        
        /* Á°Æ‰øùÊâÄÊúâÂÖ∂‰ªñÊ®°ÊÄÅÊ°ÜÂú®ÊäΩÂ±â‰∏ãÊñπ */
        .modal:not(#homeOperationDrawer) {
            z-index: 1000 !important;
        }
        
        /* ÁâπÂÆöÂÖÉÁ¥†Â±ÇÁ∫ßË¶ÜÁõñ */
        .modal-content,
        .price-card,
        .chart-container,
        .info-card,
        .glass {
            z-index: 1 !important;
        }
    </style>
    
        </div>
    </div>
    
    <!-- Êù°‰ª∂ÂºÄÂÖ≥ÂäüËÉΩ -->
    
    
    <!-- Condition Settings Modal -->
    <div id="modalContent" class="modal-content" style="display: none; position: fixed; top: 3%; left: calc(50% - 450px); background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); padding: 0; width: 900px; max-width: 95%; max-height: 94vh; border-radius: 16px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); z-index: 2147483648; transition: none; user-select: none; cursor: move; flex-direction: column;">
            <div class="modal-header" style="padding: 24px 32px 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.08); display: flex; align-items: center; justify-content: space-between; background: rgba(255, 255, 255, 0.02); position: sticky; top: 0; z-index: 1;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <h3 style="margin: 0; font-size: 18px; font-weight: 700; color: #fff;" data-i18n="settings">ËÆæÁΩÆ</h3>
                    <span id="modalRegionName" style="padding: 4px 12px; background: var(--color-primary); color: #000; border-radius: 16px; font-size: 12px; font-weight: 600;">NSW</span>
                </div>
                <button onclick="closeConditionSettingsModal()" style="background: none; border: none; color: rgba(255,255,255,0.6); font-size: 24px; cursor: pointer; padding: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='none'">√ó</button>
            </div>
            
            <div class="modal-body" style="padding: 24px 32px; overflow-y: auto; flex: 1; min-height: 0;">
                <!-- SOCËÆæÁΩÆ -->
                <div style="background: rgba(255,255,255,0.03); border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); padding: 20px; margin-bottom: 24px;">
                    <div style="color: rgba(255,255,255,0.9); font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                        üîã <span data-i18n="socSettings">SOCËÆæÁΩÆ</span>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                        <!-- Charge Stop SOC -->
                        <div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <span style="font-size: 14px; color: #00ff88; font-weight: 600;" data-i18n="chargeStopSOC">ÂÖÖÁîµÂÅúÊ≠¢SOC</span>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    <input type="number" id="modalChargeStopSOC" value="90" min="0" max="100" 
                                           style="background: rgba(255,255,255,0.1); border: 1px solid rgba(0, 255, 136, 0.3); color: #00ff88; font-size: 12px; font-weight: 700; padding: 4px 8px; width: 50px; border-radius: 6px; text-align: center; outline: none;" 
                                           oninput="var bar = document.getElementById('modalChargeSOCBar'); var dot = document.getElementById('modalChargeSOCDot'); if(bar) bar.style.width = this.value + '%'; if(dot) dot.style.left = this.value + '%'; updateModalChargeSOC(this.value);" 
                                           onchange="var bar = document.getElementById('modalChargeSOCBar'); var dot = document.getElementById('modalChargeSOCDot'); if(bar) bar.style.width = this.value + '%'; if(dot) dot.style.left = this.value + '%'; updateModalChargeSOC(this.value);"
                                           onkeyup="var bar = document.getElementById('modalChargeSOCBar'); var dot = document.getElementById('modalChargeSOCDot'); if(bar) bar.style.width = this.value + '%'; if(dot) dot.style.left = this.value + '%'; updateModalChargeSOC(this.value);">
                                    <span style="font-size: 12px; color: #00ff88;">%</span>
                                </div>
                            </div>
                            <div style="position: relative;">
                                <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 6px; position: relative;">
                                    <div id="modalChargeSOCBar" style="width: 90%; height: 100%; background: #00ff88; border-radius: 6px; transition: width 0.3s;"></div>
                                    <div id="modalChargeSOCDot" style="position: absolute; left: 90%; width: 16px; height: 16px; background: #00ff88; border-radius: 50%; transform: translateX(-50%); top: 50%; margin-top: -8px; border: 2px solid #fff; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); cursor: grab; transition: left 0.3s; z-index: 5;"></div>
                                </div>
                                <input type="range" id="modalChargeSOCSlider" min="0" max="100" value="90" 
                                       style="position: absolute; top: -8px; left: 0; width: 100%; height: 24px; opacity: 0; cursor: pointer; z-index: 10;" 
                                       oninput="updateModalChargeSOC(this.value)" onchange="updateModalChargeSOC(this.value)"
                                       onmousedown="event.stopPropagation();" onmousemove="event.stopPropagation();">
                            </div>
                        </div>
                        
                        <!-- Discharge Stop SOC -->
                        <div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <span style="font-size: 14px; color: #ffc107; font-weight: 600;" data-i18n="dischargeStopSOC">ÊîæÁîµÂÅúÊ≠¢SOC</span>
                                <div style="display: flex; align-items: center; gap: 4px;">
                                    <input type="number" id="modalDischargeStopSOC" value="20" min="0" max="100" 
                                           style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255, 193, 7, 0.3); color: #ffc107; font-size: 12px; font-weight: 700; padding: 4px 8px; width: 50px; border-radius: 6px; text-align: center; outline: none;" 
                                           oninput="var bar = document.getElementById('modalDischargeSOCBar'); var dot = document.getElementById('modalDischargeSOCDot'); if(bar) { bar.style.left = this.value + '%'; bar.style.width = (100 - this.value) + '%'; } if(dot) dot.style.left = this.value + '%'; updateModalDischargeSOC(this.value);" 
                                           onchange="var bar = document.getElementById('modalDischargeSOCBar'); var dot = document.getElementById('modalDischargeSOCDot'); if(bar) { bar.style.left = this.value + '%'; bar.style.width = (100 - this.value) + '%'; } if(dot) dot.style.left = this.value + '%'; updateModalDischargeSOC(this.value);"
                                           onkeyup="var bar = document.getElementById('modalDischargeSOCBar'); var dot = document.getElementById('modalDischargeSOCDot'); if(bar) { bar.style.left = this.value + '%'; bar.style.width = (100 - this.value) + '%'; } if(dot) dot.style.left = this.value + '%'; updateModalDischargeSOC(this.value);">
                                    <span style="font-size: 12px; color: #ffc107;">%</span>
                                </div>
                            </div>
                            <div style="position: relative;">
                                <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 6px; position: relative;">
                                    <div id="modalDischargeSOCBar" style="position: absolute; left: 20%; width: 80%; height: 100%; background: #ffc107; border-radius: 6px; transition: width 0.3s, left 0.3s;"></div>
                                    <div id="modalDischargeSOCDot" style="position: absolute; left: 20%; width: 16px; height: 16px; background: #ffc107; border-radius: 50%; transform: translateX(-50%); top: 50%; margin-top: -8px; border: 2px solid #fff; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); cursor: grab; transition: left 0.3s; z-index: 5;"></div>
                                </div>
                                <input type="range" id="modalDischargeSOCSlider" min="0" max="100" value="20" 
                                       style="position: absolute; top: -8px; left: 0; width: 100%; height: 24px; opacity: 0; cursor: pointer; z-index: 10;" 
                                       oninput="updateModalDischargeSOC(this.value)" onchange="updateModalDischargeSOC(this.value)"
                                       onmousedown="event.stopPropagation();" onmousemove="event.stopPropagation();">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Ëá™Âä®Êù°‰ª∂Ê†áÈ¢ò -->
                <h2 style="margin: 0 0 20px 0; font-size: 18px; font-weight: 700; color: #fff;" data-i18n="autoConditions">Ëá™Âä®Êù°‰ª∂</h2>
                
                <!-- Auto Mode Conditions Container -->
                <div id="autoModeConditions" style="display: block;">

                <!-- Êó∂Èó¥Êù°‰ª∂ËÆæÁΩÆ -->
                <div style="background: rgba(255,255,255,0.03); border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); padding: 20px; margin-bottom: 24px;">
                    <div style="color: rgba(255,255,255,0.9); font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                        ‚è∞ <span data-i18n="timeConditionSettings">ÂàÜÊó∂ÊÆµ‰ª∑Ê†ºÁ≠ñÁï•</span>
                    </div>
                    <div style="margin-bottom: 20px; padding: 12px; background: rgba(0, 150, 255, 0.08); border-left: 3px solid #0096ff; border-radius: 6px; font-size: 13px; color: rgba(255, 255, 255, 0.8); line-height: 1.6;">
                        <span data-i18n="multiPeriodStrategyTip">üí° ‰∏∫‰∏çÂêåÊó∂Èó¥ÊÆµËÆæÁΩÆ‰∏çÂêå‰ª∑Ê†ºÈòàÂÄºÔºåÁ≥ªÁªüÂ∞ÜÂêåÊó∂ÁõëÊµãÊâÄÊúâÊó∂Èó¥ÊÆµÔºå‰ªªÊÑèÊù°‰ª∂Êª°Ë∂≥Âç≥Ëß¶ÂèëÁõ∏Â∫îÊìç‰Ωú„ÄÇÂãæÈÄâ‰ª∑Ê†ºÊù°‰ª∂ÂèØÂêØÁî®/Á¶ÅÁî®ËØ•Êó∂ÊÆµÁöÑ‰ª∑Ê†ºÈôêÂà∂„ÄÇ</span>
                    </div>
                    
                    <!-- 24Â∞èÊó∂Êó∂Èó¥ËΩ¥ÊòæÁ§∫ -->
                    <div style="margin-bottom: 24px;">
                        <div id="timelineDisplay" style="position: relative; height: 30px; background: rgba(255,255,255,0.05); border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); overflow: visible;">
                            <!-- Â∞èÊó∂ÂàªÂ∫¶Á∫ø -->
                            <div style="position: absolute; top: 0; left: 0; right: 0; height: 24px;">
                                <!-- ‰∏ªË¶ÅÂàªÂ∫¶Á∫ø (ÊØè6Â∞èÊó∂) -->
                                <div style="position: absolute; top: 0; bottom: 0; left: 0%; width: 1px; background: rgba(255,255,255,0.3);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; left: 25%; width: 1px; background: rgba(255,255,255,0.3);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; left: 50%; width: 1px; background: rgba(255,255,255,0.3);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; left: 75%; width: 1px; background: rgba(255,255,255,0.3);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; right: 0%; width: 1px; background: rgba(255,255,255,0.3);"></div>
                                <!-- Ê¨°Ë¶ÅÂàªÂ∫¶Á∫ø (ÊØè3Â∞èÊó∂) -->
                                <div style="position: absolute; top: 0; bottom: 0; left: 12.5%; width: 1px; background: rgba(255,255,255,0.15);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; left: 37.5%; width: 1px; background: rgba(255,255,255,0.15);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; left: 62.5%; width: 1px; background: rgba(255,255,255,0.15);"></div>
                                <div style="position: absolute; top: 0; bottom: 0; left: 87.5%; width: 1px; background: rgba(255,255,255,0.15);"></div>
                            </div>
                            <!-- Êó∂Èó¥Ê†áÁ≠æ -->
                            <div style="position: absolute; bottom: -18px; left: 0; right: 0; height: 16px; display: flex; justify-content: space-between; color: rgba(255,255,255,0.8); font-size: 11px; font-weight: 600;">
                                <span style="transform: translateX(-50%);">00:00</span>
                                <span style="transform: translateX(-50%);">03:00</span>
                                <span style="transform: translateX(-50%);">06:00</span>
                                <span style="transform: translateX(-50%);">09:00</span>
                                <span style="transform: translateX(-50%);">12:00</span>
                                <span style="transform: translateX(-50%);">15:00</span>
                                <span style="transform: translateX(-50%);">18:00</span>
                                <span style="transform: translateX(-50%);">21:00</span>
                                <span style="transform: translateX(-50%);">24:00</span>
                            </div>
                            <!-- ÂÖÖÁîµÂíåÊîæÁîµÊó∂Èó¥ÊÆµÊòæÁ§∫Âå∫Âüü - Âêå‰∏ÄË°å -->
                            <div id="chargeTimelineBlocks" style="position: absolute; top: 4px; left: 0; right: 0; height: 8px;"></div>
                            <div id="dischargeTimelineBlocks" style="position: absolute; top: 12px; left: 0; right: 0; height: 8px;"></div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                        <!-- ÂÖÖÁîµÊó∂Èó¥ÊÆµ -->
                        <div>
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                                <h4 style="font-size: 14px; font-weight: 600; color: #00ff88; margin: 0;" data-i18n="chargeTime" data-text-zh="ÂÖÖÁîµÊó∂Èó¥" data-text-en="Charge Time">ÂÖÖÁîµÊó∂Èó¥</h4>
                                <button onclick="addTimePeriod('charge')" style="background: transparent; border: 1px dashed rgba(0, 255, 136, 0.4); color: #00ff88; padding: 4px 8px; border-radius: 6px; font-size: 12px; cursor: pointer;">
                                    + <span data-i18n="add" data-text-zh="Ê∑ªÂä†" data-text-en="Add">Ê∑ªÂä†</span>
                                </button>
                            </div>
                            <div id="chargeTimePeriods" style="display: flex; flex-direction: column; gap: 8px;"></div>
                        </div>

                        <!-- ÊîæÁîµÊó∂Èó¥ÊÆµ -->
                        <div>
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                                <h4 style="font-size: 14px; font-weight: 600; color: #ffc107; margin: 0;" data-i18n="dischargeTime" data-text-zh="ÊîæÁîµÊó∂Èó¥" data-text-en="Discharge Time">ÊîæÁîµÊó∂Èó¥</h4>
                                <button onclick="addTimePeriod('discharge')" style="background: transparent; border: 1px dashed rgba(255, 193, 7, 0.4); color: #ffc107; padding: 4px 8px; border-radius: 6px; font-size: 12px; cursor: pointer;">
                                    + <span data-i18n="add" data-text-zh="Ê∑ªÂä†" data-text-en="Add">Ê∑ªÂä†</span>
                                </button>
                            </div>
                            <div id="dischargeTimePeriods" style="display: flex; flex-direction: column; gap: 8px;"></div>
                        </div>
                    </div>
                </div>
                    
                    <!-- Êó∂Èó¥Êù°‰ª∂Ê†∑Âºè -->
                    <style>
                        .time-period-item {
                            display: flex;
                            align-items: center;
                            gap: 6px;
                            padding: 8px 10px;
                            background: rgba(255, 255, 255, 0.03);
                            border-radius: 6px;
                            border: 1px solid rgba(255, 255, 255, 0.08);
                            transition: all 0.3s ease;
                            min-width: 0;
                        }

                        .time-period-item:hover {
                            background: rgba(255, 255, 255, 0.05);
                            border-color: rgba(255, 255, 255, 0.1);
                        }

                        .time-period-inputs {
                            display: flex;
                            align-items: center;
                            gap: 6px;
                            flex: 1;
                            min-width: 0;
                            flex-wrap: nowrap;
                        }

                        .time-input {
                            width: 70px;
                            padding: 4px 6px;
                            background: rgba(255, 255, 255, 0.05);
                            border: 1px solid rgba(255, 255, 255, 0.1);
                            border-radius: 6px;
                            color: rgba(255, 255, 255, 0.9);
                            font-size: 12px;
                            text-align: center;
                            transition: all 0.3s ease;
                            flex-shrink: 0;
                        }

                        .time-input.price-input {
                            width: 60px;
                        }

                        .time-input:focus {
                            outline: none;
                            border-color: #00ff88;
                            box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.1);
                        }

                        .time-period-separator {
                            color: rgba(255, 255, 255, 0.6);
                            font-size: 12px;
                            flex-shrink: 0;
                        }

                        .period-action-btn {
                            padding: 4px 6px;
                            background: transparent;
                            border: none;
                            color: #ff6b6b;
                            font-size: 12px;
                            cursor: pointer;
                            border-radius: 6px;
                            transition: all 0.3s ease;
                            flex-shrink: 0;
                        }

                        .period-action-btn:hover {
                            background: rgba(255, 107, 107, 0.1);
                            color: #ff8a8a;
                        }
                    </style>
                </div>
                </div><!-- End of autoModeConditions -->
                
                <!-- Modal Footer Buttons -->
                <div style="display: flex; justify-content: flex-end; gap: 12px; margin: 32px 24px 24px 24px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.08);">
                    <button onclick="closeConditionSettingsModal()" style="background: rgba(255, 255, 255, 0.08); color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); padding: 10px 20px; border-radius: 10px; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.3s;" data-i18n="cancel">ÂèñÊ∂à</button>
                    <button onclick="saveConditionSettings()" style="background: linear-gradient(135deg, #00ff88, #00dd77); color: #000; padding: 10px 20px; border-radius: 10px; font-size: 13px; font-weight: 700; cursor: pointer; transition: all 0.3s; border: none;" data-i18n="saveSettings">‰øùÂ≠òËÆæÁΩÆ</button>
                </div>
                
                </div>
            </div>
            
            
        </div>
    </div>
    
    <!-- SOC Edit Modal -->
    <div id="socEditModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10003; align-items: center; justify-content: center; backdrop-filter: blur(15px) saturate(1.5);">
        <div class="modal-content" style="background: linear-gradient(145deg, #1e1e2e 0%, #252535 100%); border: none; padding: 0; overflow: hidden; width: 480px; max-width: 90%; border-radius: 24px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 1px rgba(255, 255, 255, 0.1);">
            <div class="modal-header" style="padding: 28px 32px; border-bottom: 1px solid rgba(255, 255, 255, 0.08); display: flex; align-items: center; justify-content: space-between; background: rgba(255, 255, 255, 0.02);">
                <h3 style="margin: 0; font-size: 20px; font-weight: 700; color: #fff; letter-spacing: 0.3px;" data-i18n="socSettings">SOC ËÆæÁΩÆ</h3>
                <button onclick="closeSOCEditModal()" style="background: none; border: none; color: rgba(255,255,255,0.6); font-size: 24px; cursor: pointer; padding: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='none'">√ó</button>
            </div>
            
            <div class="modal-body" style="padding: 32px;">
                <!-- Charge Stop SOC Setting -->
                <div style="margin-bottom: 28px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <label style="color: #00ff88; font-size: 14px; font-weight: 600;" data-i18n="chargeStopSOC">ÂÖÖÁîµÂÅúÊ≠¢SOC</label>
                        <div style="display: flex; align-items: center; gap: 4px;">
                            <input type="number" id="modalChargeSOCInput" min="0" max="100" value="90" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 6px 8px; border-radius: 6px; width: 50px; font-size: 13px; outline: none; transition: all 0.2s;" oninput="updateModalChargeSOCFromInput(this.value)" onfocus="this.style.borderColor='rgba(0,255,136,0.5)'; this.style.background='rgba(255,255,255,0.15)'" onblur="this.style.borderColor='rgba(255,255,255,0.2)'; this.style.background='rgba(255,255,255,0.1)'">
                            <span style="color: rgba(255,255,255,0.7); font-size: 14px;">%</span>
                        </div>
                    </div>
                    <div style="position: relative; width: 100%; height: 32px; display: flex; align-items: center;">
                        <div style="width: 100%; height: 8px; background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0.05)); border-radius: 6px; position: absolute; box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.05);">
                            <div id="modalChargeSOCProgressBar" style="width: 90%; height: 100%; background: linear-gradient(90deg, #00ff88 0%, #00dd77 50%, #00ff88 100%); border-radius: 6px; transition: width 0.3s ease; box-shadow: 0 0 15px rgba(0, 255, 136, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3); position: relative; overflow: hidden;">
                                <div style="position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%); animation: shimmer 2s infinite;"></div>
                            </div>
                        </div>
                        <!-- ÊªëÂùóÂúÜÁÇπ -->
                        <div id="modalChargeSOCThumb" style="position: absolute; left: 90%; width: 20px; height: 20px; background: radial-gradient(circle at 30% 30%, #00ff88, #00cc6a); border-radius: 50%; transform: translateX(-50%); border: 2px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.3); transition: box-shadow 0.15s ease, transform 0.15s ease; pointer-events: none; z-index: 1;"></div>
                        <input type="range" id="modalChargeSOCSlider" min="0" max="100" value="90" style="position: absolute; width: 100%; height: 32px; opacity: 0; cursor: pointer; z-index: 2;" oninput="updateModalChargeSOC(this.value)" onmouseover="document.getElementById('modalChargeSOCThumb').style.transform='translateX(-50%) scale(1.15)'; document.getElementById('modalChargeSOCThumb').style.boxShadow='0 0 20px rgba(0, 255, 136, 0.6), 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4)'" onmouseout="document.getElementById('modalChargeSOCThumb').style.transform='translateX(-50%)'; document.getElementById('modalChargeSOCThumb').style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.3)'">
                    </div>
                </div>
                
                <!-- Discharge Stop SOC Setting -->
                <div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <label style="color: #ffc107; font-size: 14px; font-weight: 600;" data-i18n="dischargeStopSOC">ÊîæÁîµÂÅúÊ≠¢SOC</label>
                        <div style="display: flex; align-items: center; gap: 4px;">
                            <input type="number" id="modalDischargeSOCInput" min="0" max="100" value="20" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 6px 8px; border-radius: 6px; width: 50px; font-size: 13px; outline: none; transition: all 0.2s;" oninput="updateModalDischargeSOCFromInput(this.value)" onfocus="this.style.borderColor='rgba(255,193,7,0.5)'; this.style.background='rgba(255,255,255,0.15)'" onblur="this.style.borderColor='rgba(255,255,255,0.2)'; this.style.background='rgba(255,255,255,0.1)'">
                            <span style="color: rgba(255,255,255,0.7); font-size: 14px;">%</span>
                        </div>
                    </div>
                    <div style="position: relative; width: 100%; height: 32px; display: flex; align-items: center;">
                        <div style="width: 100%; height: 8px; background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(255, 255, 255, 0.05)); border-radius: 6px; position: absolute; box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.05);">
                            <div id="modalDischargeSOCProgressBar" style="position: absolute; left: 20%; width: 80%; height: 100%; background: linear-gradient(90deg, #ffc107 0%, #ff9800 50%, #ffc107 100%); border-radius: 6px; transition: all 0.3s ease; box-shadow: 0 0 15px rgba(255, 193, 7, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3); position: relative; overflow: hidden;">
                                <div style="position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%); animation: shimmer 2s infinite;"></div>
                            </div>
                        </div>
                        <!-- ÊªëÂùóÂúÜÁÇπ -->
                        <div id="modalDischargeSOCThumb" style="position: absolute; left: 20%; width: 20px; height: 20px; background: radial-gradient(circle at 30% 30%, #ffc107, #ff9800); border-radius: 50%; transform: translateX(-50%); border: 2px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.3); transition: box-shadow 0.15s ease, transform 0.15s ease; pointer-events: none; z-index: 1;"></div>
                        <input type="range" id="modalDischargeSOCSlider" min="0" max="100" value="20" style="position: absolute; width: 100%; height: 32px; opacity: 0; cursor: pointer; z-index: 2;" oninput="updateModalDischargeSOC(this.value)" onmouseover="document.getElementById('modalDischargeSOCThumb').style.transform='translateX(-50%) scale(1.15)'; document.getElementById('modalDischargeSOCThumb').style.boxShadow='0 0 20px rgba(255, 193, 7, 0.6), 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 2px rgba(255, 255, 255, 0.4)'" onmouseout="document.getElementById('modalDischargeSOCThumb').style.transform='translateX(-50%)'; document.getElementById('modalDischargeSOCThumb').style.boxShadow='0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.3)'">
                    </div>
                </div>
            </div>
            
            <div class="modal-footer" style="padding: 28px 36px 32px; background: rgba(0, 0, 0, 0.2); border-top: 1px solid rgba(255, 255, 255, 0.08); display: flex; justify-content: flex-end; gap: 16px;">
                <button onclick="closeSOCEditModal()" style="background: rgba(255, 255, 255, 0.08); color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); padding: 14px 36px; border-radius: 999px; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.3s; backdrop-filter: blur(20px) saturate(1.5); letter-spacing: 0.5px;" onmouseover="this.style.background='rgba(255, 255, 255, 0.12)'; this.style.borderColor='rgba(255, 255, 255, 0.2)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.08)'; this.style.borderColor='rgba(255, 255, 255, 0.1)'" data-i18n="cancel">ÂèñÊ∂à</button>
                <button onclick="saveSOCSettings()" style="background: linear-gradient(135deg, #00ff88, #00dd77); color: #000; padding: 14px 36px; border-radius: 999px; font-size: 15px; font-weight: 700; cursor: pointer; transition: all 0.3s; border: none; box-shadow: 0 4px 16px rgba(0, 255, 136, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3); letter-spacing: 0.5px;" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(0, 255, 136, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 16px rgba(0, 255, 136, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)'" data-i18n="save">‰øùÂ≠ò</button>
            </div>
        </div>
    </div>
    
    <!-- ÂÖ®Â±ÄÊé®ÈÄÅÂºπÁ™ó -->
    <!-- ÊôÆÈÄöÂÖÖÁîµÊèêÈÜí -->
    <div class="push-notification" id="normalChargeNotification">
        <div class="push-notification-header">
            <div class="push-notification-title">
                <span class="push-notification-icon">‚ö°</span>
                <span><span data-i18n="chargeReminder">ÂÖÖÁîµÊèêÈÜí</span>‚Äî‚Äî<span class="notification-region">NSW</span></span>
            </div>
            <button class="push-notification-close" onclick="closePushNotification('normalChargeNotification')">
                <span>√ó</span>
            </button>
        </div>
        <div class="push-notification-content">
            <p><span data-i18n="currentPrice">ÂΩìÂâç‰ª∑Ê†º</span><span class="highlight-number notification-price">$300</span><span data-i18n="belowThreshold">Ôºå‰Ωé‰∫éÈòàÂÄº</span><span class="highlight-value notification-threshold">$250</span><span data-i18n="pleaseCharge">ÔºåËØ∑ÂÖÖÁîµ</span></p>
        </div>
    </div>

    <!-- ÊôÆÈÄöÊîæÁîµÊèêÈÜí -->
    <div class="push-notification" id="normalDischargeNotification">
        <div class="push-notification-header">
            <div class="push-notification-title">
                <span class="push-notification-icon">üîã</span>
                <span><span data-i18n="dischargeReminder">ÊîæÁîµÊèêÈÜí</span>‚Äî‚Äî<span class="notification-region">NSW</span></span>
            </div>
            <button class="push-notification-close" onclick="closePushNotification('normalDischargeNotification')">
                <span>√ó</span>
            </button>
        </div>
        <div class="push-notification-content">
            <p><span data-i18n="currentPrice">ÂΩìÂâç‰ª∑Ê†º</span><span class="highlight-number notification-price">$300</span><span data-i18n="aboveThreshold">ÔºåÈ´ò‰∫éÈòàÂÄº</span><span class="highlight-value notification-threshold">$250</span><span data-i18n="pleaseDischarge">ÔºåËØ∑ÊîæÁîµ</span></p>
        </div>
    </div>

    <!-- ÊúÄ‰Ω≥ÂÖÖÁîµ/ÊîæÁîµÊèêÈÜí -->
    <div class="push-notification" id="optimalNotification">
        <div class="push-notification-header">
            <div class="push-notification-title">
                <span class="push-notification-icon">üéØ</span>
                <span><span data-i18n="optimalReminder">ÊúÄ‰Ω≥ÂÖÖÁîµÊèêÈÜí</span>‚Äî‚Äî<span class="notification-region">NSW</span></span>
            </div>
            <button class="push-notification-close" onclick="closePushNotification('optimalNotification')">
                <span>√ó</span>
            </button>
        </div>
        <div class="push-notification-content">
            <p><span class="notification-region">NSW</span><span data-i18n="regionPrice">Âú∞Âå∫ÂÖÖÁîµ‰ª∑Ê†º</span><span class="highlight-number notification-price">$319</span><span data-i18n="timeRemaining">ÔºåËøòÊúâ</span><span class="highlight-value notification-time">27</span><span data-i18n="minutesToOptimal">ÂàÜÈíüÂà∞ËææÊúÄ‰Ω≥ÊîæÁîµÊó∂Êú∫ÔºåËØ∑ÂÅöÂ•ΩÂáÜÂ§á</span></p>
        </div>
    </div>

    <!-- È´ò‰ª∑/‰Ωé‰ª∑ÂÖÖÁîµ/ÊîæÁîµÊèêÈÜí -->
    <div class="push-notification" id="priceAlertNotification">
        <div class="push-notification-header">
            <div class="push-notification-title">
                <span class="push-notification-icon">üí∞</span>
                <span><span class="notification-price-type">È´ò‰ª∑</span><span class="notification-action-type">ÂÖÖÁîµ</span><span data-i18n="priceAlert">ÊèêÈÜí</span>‚Äî‚Äî<span class="notification-region">NSW</span></span>
            </div>
            <button class="push-notification-close" onclick="closePushNotification('priceAlertNotification')">
                <span>√ó</span>
            </button>
        </div>
        <div class="push-notification-content">
            <p><span class="notification-region">NSW</span><span data-i18n="regionPrice">Âú∞Âå∫ÂÖÖÁîµ‰ª∑Ê†º</span><span class="highlight-number notification-price">$319</span><span data-i18n="timeRemaining">ÔºåËøòÊúâ</span><span class="highlight-value notification-time">27</span><span data-i18n="minutesToPrice">ÂàÜÈíüÂà∞Ëææ</span><span class="notification-price-type">È´ò‰ª∑</span><span class="notification-action-type">ÂÖÖÁîµ</span><span data-i18n="timeOpportunity">Êó∂Êú∫ÔºåËØ∑ÂÅöÂ•ΩÂáÜÂ§á</span></p>
        </div>
    </div>
    

    <!-- Á´ãÂç≥Â∞ùËØïÂàùÂßãÂåñHeaderNav -->
    

    


    <!-- ÂèØÊãñÊãΩËá™Âä®ÂåñÊù°‰ª∂Âç°Áâá -->
    <div id="regionOverviewCard" class="draggable-region-overview-card" style="display: none;">
        <div class="region-overview-header">
            <h3 class="region-overview-title" data-i18n="automationConditions">Ëá™Âä®ÂåñÊù°‰ª∂</h3>
            <button class="region-overview-minimize-btn" onclick="closeRegionOverviewCard()" title="ÂÖ≥Èó≠">√ó</button>
        </div>
        <div class="region-overview-content">
            <div class="region-overview-body" id="regionOverviewBody">
                <!-- Ëá™Âä®ÂåñÊù°‰ª∂ÂÜÖÂÆπÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
    </div>


    <!-- Á°Æ‰øù condition-settings-modal.js ÁöÑÂáΩÊï∞Ë¶ÜÁõñ dashboard.html ‰∏≠ÁöÑÊóßÂáΩÊï∞ -->
    <script>
        // Âª∂ËøüÊâßË°å‰ª•Á°Æ‰øù condition-settings-modal.js Â∑≤Âä†ËΩΩ
        setTimeout(() => {
            if (typeof window.updateMainPageConditionsDisplay === 'function') {
                // Á´ãÂç≥Êõ¥Êñ∞‰∏ªÁïåÈù¢ÊòæÁ§∫
                window.updateMainPageConditionsDisplay();
            } else {
                console.error('‚ùå condition-settings-modal.js functions not found!');
            }
        }, 100);
    </script>
<script src="js/dashboard-app.js"></script>
</body>

</html>
